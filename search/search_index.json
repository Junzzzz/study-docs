{"config":{"lang":["ja"],"separator":"[\\s\\-\uff0c\u3002]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"\u5b66\u4e60\u7b14\u8bb0","text":"<p>\u5b66\u65b0\u77e5\u8bc6\u7684\u65f6\u5019\u603b\u662f\u5b66\u4e86\u5c31\u5fd8\uff0c\u56e0\u4e3a\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u4e0d\u4f1a\u4e00\u76f4\u7528\uff0c\u7b49\u771f\u7684\u7528\u4e0a\u65f6\u5019\u53c8\u5e38\u5e38\u4e0d\u6562\u4e71\u5199\uff0c\u5c31\u6015\u81ea\u5df1\u7528\u51fa\u95ee\u9898\uff0c\u8fd9\u65f6\u5019\u53c8\u8981\u53bb\u67e5\u7528\u6cd5\u5c31\u4f1a\u5f88\u9ebb\u70e6\u3002</p> <p>\u6240\u4ee5\u4e0d\u5982\u76f4\u63a5\u81ea\u5df1\u5728\u5b66\u7684\u65f6\u5019\u5c31\u6574\u7406\u4e00\u5957\u7ed9\u81ea\u5df1\u5f53\u5b57\u5178\u67e5\uff0c\u4e3b\u8981\u662f\u4e3a\u4e86\u65b9\u4fbf\u81ea\u5df1\u80fd\u5f88\u5feb\u5c31\u770b\u61c2\u3002</p> <p>\u76ee\u524d\u7b80\u5355\u6574\u7406\u4e86\u4e00\u4e9b\u6e38\u620f\u5f00\u53d1\u548cC#\u8bed\u6cd5\u7684\u5185\u5bb9\u3002</p>"},{"location":"c-sharp/collection/","title":"\u5e38\u7528\u96c6\u5408\u7c7b","text":""},{"location":"c-sharp/collection/#list","title":"List&lt;T&gt;","text":"<p><code>List</code> \u7c7b\u662f\u4e00\u4e2a\u6cdb\u578b\u96c6\u5408\u7c7b\uff0c\u4e8b\u5b9e\u4e0a\u5c31\u662f\u4e00\u4e2a\u53ef\u53d8\u6570\u7ec4\uff0c\u975e\u7ebf\u7a0b\u5b89\u5168\u3002</p> <p>\u5f53\u6dfb\u52a0\u7684\u5143\u7d20\u8d85\u8fc7\u6570\u7ec4\u5bb9\u91cf\u65f6\u4f1a\u8fdb\u884c\u6269\u5bb9\uff0c\u91cd\u65b0\u5206\u914d\u4e00\u4e2a\u65b0\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u5e76\u5c06\u539f\u6709\u7684\u6570\u636e\u590d\u5236\u5230\u65b0\u7684\u5185\u5b58\u91cc\uff0c\u8fd9\u65f6\u5019\u6dfb\u52a0\u64cd\u4f5c\u7684\u65f6\u95f4\u590d\u6742\u5ea6 \\(O(1)\\) \u4f1a\u9000\u5316\u6210 \\(O(n)\\)\u3002</p>"},{"location":"c-sharp/collection/#\u6ce8\u610f\u70b9","title":"\u6ce8\u610f\u70b9","text":"<ol> <li>\u76f8\u8f83\u4e8e <code>ArrayList</code> \uff0c <code>List&lt;T&gt;</code> \u5728\u5927\u591a\u6570\u60c5\u51b5\u8868\u73b0\u66f4\u597d\uff0c\u540c\u65f6\u7531\u4e8e\u6cdb\u578b\u7684\u7c7b\u578b\u7ea6\u675f\uff0c\u4e0d\u5bb9\u6613\u51fa\u9519\u3002\u6b64\u5916\uff0c\u53ef\u4ee5\u907f\u514d\u503c\u7c7b\u578b\u548c\u5f15\u7528\u7c7b\u578b\u4e4b\u95f4\u7684\u8f6c\u6362\uff08\u62c6\u3001\u88c5\u7bb1\uff09\u3002</li> <li><code>T</code> \u7c7b\u578b\u9700\u8981\u5b9e\u73b0 <code>IEquatable&lt;T&gt;</code> \u63a5\u53e3\uff0c\u5426\u5219\u50cf <code>Contains</code> \u65b9\u6cd5\u9700\u8981\u5c06\u5143\u7d20\u88c5\u7bb1\u7136\u540e\u8c03\u7528 <code>Objects.Equals(Object)</code> \u65b9\u6cd5\u624d\u80fd\u8fdb\u884c\u6bd4\u8f83\u3002</li> <li>List\u7c7b\u662f\u65e0\u5e8f\u96c6\u5408\uff0c\u5728\u4f7f\u7528 <code>BinarySearch</code> \u65b9\u6cd5\u524d\u9700\u8981\u8c03\u7528 <code>Sort</code> \u65b9\u6cd5\u8fdb\u884c\u6392\u5e8f\u6216\u8005\u5728\u4e8c\u5206\u67e5\u627e\u53c2\u6570\u91cc\u4f20\u5165 <code>IComparer&lt;T&gt;</code> \u6bd4\u8f83\u5668\u3002</li> </ol>"},{"location":"c-sharp/collection/#arraylist","title":"ArrayList","text":"<p>\u76f8\u5f53\u4e8e <code>List&lt;Object&gt;</code> \uff0c\u662f\u975e\u6cdb\u578b\u96c6\u5408\u7c7b\uff0c\u5386\u53f2\u9057\u7559\u4ea7\u7269\uff0c\u5b98\u65b9\u4e0d\u63a8\u8350\u4f7f\u75281</p>"},{"location":"c-sharp/collection/#dictionary","title":"Dictionary","text":"<p>\u4e3b\u8981\u7528\u4e8e\u5b58\u653e\u952e\u503c\u5bf9\uff0c\u901a\u8fc7\u952e(Key)\u6765\u67e5\u627e\u503c(Value)\u3002\u901f\u5ea6\u5f88\u5feb\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\u65f6\u95f4\u590d\u6742\u5ea6\u5f88\u63a5\u8fd1 \\(O(1)\\)</p>"},{"location":"c-sharp/collection/#\u6ce8\u610f\u70b9_1","title":"\u6ce8\u610f\u70b9","text":"<p>\u524d\u9762\u4e5f\u5199\u5230\u4e86\u662f \u4e00\u822c\u60c5\u51b5 \u67e5\u627e\u901f\u5ea6\u624d\u4f1a\u5f88\u5feb\uff0c\u5f53\u7136\u4e5f\u4f1a\u51fa\u73b0\u6781\u7aef\u60c5\u51b5\u3002\u7531\u4e8e\u5b58\u653e\u6570\u636e\u662f\u901a\u8fc7\u8ba1\u7b97\u952e\u7684Hash\u6563\u5217\u503c\u6765\u5f97\u5230\u5b58\u653e\u4f4d\u7f6e\u7684\uff0c\u96be\u514d\u4f1a\u51fa\u73b0\u91cd\u590d\u7684\u60c5\u51b5\uff08\u78b0\u649e\uff09\u3002\u51fa\u73b0\u78b0\u649e\u7684\u6982\u7387\u53d6\u51b3\u4e8e\u5b9a\u4e49\u7684 <code>HashCode</code> \u51fd\u6570\u4ee5\u53ca\u5b57\u5178\u7684\u5bb9\u91cf\u5927\u5c0f\u3002</p> <ol> <li><code>GetHashCode</code> \u51fd\u6570\u4ea7\u751f\u7684\u6574\u6570\u9700\u8981\u5c3d\u53ef\u80fd\u5206\u6563\uff0c\u5f53\u7136\u5927\u591a\u6570\u60c5\u51b5\u4e0d\u9700\u8981\u8003\u8651\u8fd9\u4e2a\u95ee\u9898\u3002</li> <li>\u5728\u53ef\u4ee5\u5f97\u77e5\u5927\u81f4\u5b58\u653e\u6570\u636e\u5bb9\u91cf\u5927\u5c0f\u7684\u60c5\u51b5\u4e0b\uff0c\u5728\u5b9e\u4f8b\u5316 <code>Dictionary</code> \u5bf9\u8c61\u65f6\u6700\u597d\u586b\u5199\u521d\u59cb\u5bb9\u91cf\uff0c\u907f\u514d\u56e0\u4e3a\u4e0d\u65ad\u6dfb\u52a0\u6570\u636e\u4f7f\u5f97\u5b58\u653e\u6570\u7ec4\u6269\u5bb9\u800c\u5bfc\u81f4\u7684\u6027\u80fd\u635f\u8017\u3002</li> <li>\u5b58\u653e\u5728\u5176\u4e2d\u7684\u952e\u5bf9\u8c61\u5c5e\u6027\u4e0d\u80fd\u6539\u53d8\uff08\u4e3b\u8981\u662f\u4f1a\u5f71\u54cd\u54c8\u5e0c\u503c\u7684\u5c5e\u6027\uff09\uff0c\u5426\u5219\u53ef\u80fd\u4f1a\u65e0\u6cd5\u68c0\u7d22\u5230\u5bf9\u5e94\u7684\u503c\u3002</li> </ol> <p>Hash</p> <p>\u54c8\u5e0c\u503c\u4ee3\u8868\u4e86\u4e00\u4e2a\u5bf9\u8c61\u7684\u7279\u5f81\u503c\uff0c\u4e24\u4e2a\u4e0d\u540c\u7684\u5bf9\u8c61\u53ef\u80fd\u4f1a\u4ea7\u751f\u76f8\u540c\u7684\u7279\u5f81\u503c\u3002</p>"},{"location":"c-sharp/collection/#hashtable","title":"Hashtable","text":"<p>\u76f8\u5f53\u4e8e\u6ca1\u6709\u6cdb\u578b\u7684 <code>Dictionary</code> \u7c7b\u578b\uff0c\u540c\u6837\u5b98\u65b9\u4e0d\u63a8\u8350\u4f7f\u75281</p>"},{"location":"c-sharp/collection/#stack","title":"Stack","text":"<p>\u5806\u6808\uff0c\u7ecf\u5178\u7c7b\u578b\u3002\u6570\u636e\u5c31\u50cf\u7269\u54c1\u4e00\u6837\u5806\u53e0\u5b58\u653e\uff0c\u53ea\u80fd\u5728\u4e00\u4e2a\u5806\u7684\u9876\u7aef\u8fdb\u884c\u5b58\u53d6\uff0c\u6700\u540e\u653e\u4e0a\u6765\u7684\u4e1c\u897f\u4f1a\u88ab\u4f18\u5148\u53d6\u51fa\u3002</p> <p>\u8fd9\u79cd\u6570\u636e\u7ed3\u6784\u6709\u591a\u79cd\u5b9e\u73b0\u65b9\u5f0f\uff0c\u6bd4\u5982\u6570\u7ec4\u6216\u8005\u94fe\u8868\uff0cC#\u4e2d\u91c7\u7528\u6570\u7ec4\u6765\u5b58\u653e\u6570\u636e\uff0c\u56e0\u6b64\u4f1a\u5b58\u5728\u6570\u7ec4\u6269\u5bb9\u95ee\u9898\uff0c\u8d85\u51fa\u9884\u8bbe\u5bb9\u91cf\u4f1a\u5bfc\u81f4\u6dfb\u52a0\u6570\u636e\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u589e\u52a0\u5230 \\(O(n)\\) \uff0c\u56e0\u6b64\u4f7f\u7528\u65f6\u5efa\u8bae\u6700\u597d\u9884\u8bbe\u521d\u59cb\u5bb9\u91cf\u3002</p>"},{"location":"c-sharp/collection/#queue","title":"Queue","text":"<p>\u961f\u5217\uff0c\u7ecf\u5178\u7c7b\u578b\u3002\u987e\u540d\u601d\u4e49\uff0c\u6392\u5728\u961f\u4f0d\u524d\u9762\u7684\u4f18\u5148\uff0c\u5373\u5148\u5b58\u653e\u7684\u6570\u636e\u5148\u88ab\u53d6\u51fa\u3002</p> <p>\u5728C#\u4e2d\u91c7\u7528\u5faa\u73af\u6570\u7ec4\u7684\u65b9\u5f0f\u5b9e\u73b0\uff0c\u540c\u6837\u5b58\u5728\u6269\u5bb9\u95ee\u9898\uff0c\u6ce8\u610f\u9884\u8bbe\u5bb9\u91cf\u3002</p> <p>\u6ce8\u610f</p> <ol> <li>\u4f7f\u7528 <code>Stack</code> \u548c <code>Queue</code> \u65f6\u6ce8\u610f\u9009\u62e9\u6709\u6cdb\u578b\u7684\u7c7b\uff0c\u5373 <code>System.Collections.Generic</code> \u547d\u540d\u57df\u4e0b\u7684\u7c7b\uff0c\u56e0\u4e3a \u5b58\u5728\u540c\u540d \u6ca1\u6709\u6cdb\u578b\u7684\u5386\u53f2\u9057\u7559\u4ea7\u7269\u3002</li> <li>\u53ef\u4ee5\u4f7f\u7528 <code>TrimExcess()</code> \u65b9\u6cd5\u88c1\u526a\u591a\u4f59\u5bb9\u91cf\uff0c\u51cf\u5c0f\u5185\u5b58\u6d88\u8017\u3002\uff08\u53ea\u5728\u5c0f\u4e8e90%\u7684\u60c5\u51b5\u4e0b\u6709\u6548\uff09</li> </ol> <ol> <li> <p>\u5b98\u65b9\u8bf4\u660e\uff1aDE0006: Non-generic collections shouldn't be used \u21a9\u21a9</p> </li> </ol>"},{"location":"c-sharp/yield/","title":"yield","text":"<p>\u5148\u8d34\u4e00\u6bb5\u5b98\u65b9\u7684\u63cf\u8ff0\uff0c\u53ef\u4ee5\u8df3\u8fc7\u76f4\u63a5\u770b\u603b\u7ed3\u7684\u90e8\u5206\u3002</p>"},{"location":"c-sharp/yield/#\u5b98\u65b9\u63cf\u8ff0","title":"\u5b98\u65b9\u63cf\u8ff0","text":"<p>\u5728\u8bed\u53e5\u4e2d\u4f7f\u7528 <code>yield</code> \u4e0a\u4e0b\u6587\u5173\u952e\u5b57\u65f6\uff0c\u8868\u660e\u5b83\u51fa\u73b0\u7684\u65b9\u6cd5\u3001\u8fd0\u7b97\u7b26\u6216 <code>get</code> \u8bbf\u95ee\u5668\u662f\u8fed\u4ee3\u5668\u3002\u5f53\u60a8\u4e3a\u81ea\u5b9a\u4e49\u96c6\u5408\u7c7b\u578b\u5b9e\u73b0 <code>IEnumerable</code> \u548c <code>IEnumerator</code> \u6a21\u5f0f\u65f6\uff0c\u4f7f\u7528 yield \u5b9a\u4e49\u8fed\u4ee3\u5668\u65e0\u9700\u663e\u5f0f\u7684\u989d\u5916\u7c7b\u3002</p> <p>\u4e0b\u9762\u7ed9\u51fa\u4e86<code>yield</code>\u8bed\u53e5\u4f7f\u7528\u7684\u4e24\u4e2a\u683c\u5f0f\uff1a</p> <pre><code>yield return &lt;expression&gt;;\nyield break;\n</code></pre> <p>\u5907\u6ce8</p> <p><code>yield return</code>\u8bed\u53e5\u4e00\u6b21\u53ea\u80fd\u8fd4\u56de\u4e00\u4e2a\u5143\u7d20</p> <p>\u53ef\u4ee5\u4f7f\u7528 <code>foreach</code> \u8bed\u53e5\u6216 <code>LINQ</code> \u67e5\u8be2\u6765\u4f7f\u7528\u4ece\u8fed\u4ee3\u5668\u65b9\u6cd5\u8fd4\u56de\u7684\u5e8f\u5217\u3002<code>foreach</code> \u5faa\u73af\u7684\u6bcf\u6b21\u8fed\u4ee3\u90fd\u4f1a\u8c03\u7528\u8fed\u4ee3\u5668\u65b9\u6cd5\u3002 \u8fed\u4ee3\u5668\u65b9\u6cd5\u8fd0\u884c\u5230 <code>yield return</code> \u8bed\u53e5\u65f6\uff0c\u4f1a\u8fd4\u56de\u4e00\u4e2a <code>expression</code>\uff0c\u5e76\u4fdd\u7559\u5f53\u524d\u5728\u4ee3\u7801\u4e2d\u7684\u4f4d\u7f6e\u3002 \u4e0b\u6b21\u8c03\u7528\u8fed\u4ee3\u5668\u51fd\u6570\u65f6\uff0c\u5c06\u4ece\u8be5\u4f4d\u7f6e\u91cd\u65b0\u5f00\u59cb\u6267\u884c\u3002</p> <p>\u5f53\u8fed\u4ee3\u5668\u8fd4\u56de <code>System.Collections.Generic.IAsyncEnumerable&lt;T&gt;</code>\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>await foreach</code> \u8bed\u53e5\u5f02\u6b65\u4f7f\u7528\u8be5\u5e8f\u5217\u3002 \u5faa\u73af\u7684\u8fed\u4ee3\u7c7b\u4f3c\u4e8e <code>foreach</code> \u8bed\u53e5\u3002 \u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\uff0c\u5728\u8fd4\u56de\u4e0b\u4e00\u4e2a\u5143\u7d20\u7684\u8868\u8fbe\u5f0f\u4e4b\u524d\uff0c\u6bcf\u6b21\u8fed\u4ee3\u90fd\u53ef\u80fd\u56e0\u5f02\u6b65\u64cd\u4f5c\u800c\u6302\u8d77\u3002</p> <p>\u53ef\u4ee5\u4f7f\u7528 <code>yield break</code> \u8bed\u53e5\u6765\u7ec8\u6b62\u8fed\u4ee3\u3002</p>"},{"location":"c-sharp/yield/#\u8fed\u4ee3\u5668\u65b9\u6cd5\u548c-get-\u8bbf\u95ee\u5668","title":"\u8fed\u4ee3\u5668\u65b9\u6cd5\u548c get \u8bbf\u95ee\u5668","text":"<p>\u8fed\u4ee3\u5668\u7684\u58f0\u660e\u5fc5\u987b\u6ee1\u8db3\u4ee5\u4e0b\u8981\u6c42\uff1a</p> <ul> <li> <p>\u8fd4\u56de\u7c7b\u578b\u5fc5\u987b\u4e3a\u4e0b\u5217\u7c7b\u578b\u4e4b\u4e00\uff1a</p> <ul> <li>IAsyncEnumerable\\&lt;T&gt;</li> <li>IEnumerable\\&lt;T&gt;</li> <li>IEnumerable</li> <li>IEnumerator\\&lt;T&gt;</li> <li>IEnumerator</li> </ul> </li> <li> <p>\u58f0\u660e\u4e0d\u80fd\u6709\u4efb\u4f55 in\u3001ref \u6216 out \u53c2\u6570\u3002</p> </li> </ul>"},{"location":"c-sharp/yield/#\u5f02\u5e38\u5904\u7406","title":"\u5f02\u5e38\u5904\u7406","text":"<p>\u4e0d\u80fd\u5c06 <code>yield return</code> \u8bed\u53e5\u7f6e\u4e8e try-catch \u5757\u4e2d\u3002 \u53ef\u5c06 <code>yield return</code> \u8bed\u53e5\u7f6e\u4e8e try-finally \u8bed\u53e5\u7684 try \u5757\u4e2d\u3002</p> <p>\u53ef\u5c06 <code>yield break</code> \u8bed\u53e5\u7f6e\u4e8e try \u5757\u6216 catch \u5757\u4e2d\uff0c\u4f46\u4e0d\u80fd\u5c06\u5176\u7f6e\u4e8e finally \u5757\u4e2d\u3002</p> <p>\u5982\u679c <code>foreach</code> \u6216 <code>await foreach</code> \u4e3b\u4f53\uff08\u5728\u8fed\u4ee3\u5668\u65b9\u6cd5\u4e4b\u5916\uff09\u5f15\u53d1\u5f02\u5e38\uff0c\u5219\u5c06\u6267\u884c\u8fed\u4ee3\u5668\u65b9\u6cd5\u4e2d\u7684 finally \u5757\u3002</p>"},{"location":"c-sharp/yield/#\u603b\u7ed3","title":"\u603b\u7ed3","text":"<p><code>yield return</code> \u4e3b\u8981\u7528\u6765\u8fd4\u56de\u8fed\u4ee3\u5668\u4e2d\u7684\u5143\u7d20\uff0c\u7b80\u5355\u7684\u8bf4\uff0c\u53ef\u4ee5\u5199\u4e00\u4e2a\u590d\u6742\u7684\u65b9\u6cd5\u6765\u751f\u6210\u4e00\u4e2a\u96c6\u5408\u7528\u4e8e\u8fed\u4ee3\uff0c\u4f46\u5e76\u4e0d\u662f\u76f4\u63a5\u751f\u6210\u5b8c\u6574\u7684\u4e00\u4e2a\u96c6\u5408\uff0c\u800c\u662f\u6bcf\u6b21\u53d6\u4e0b\u4e00\u4e2a\u5143\u7d20\u65f6\uff0c\u63a5\u7740\u4ece\u4e0a\u4e00\u6b21\u6267\u884c\u7684\u4f4d\u7f6e\u63a5\u7740\u6267\u884c\u3002</p> <pre><code>void Run()\n{\nIEnumerable&lt;int&gt; elements = MyIteratorMethod();\nforeach (int element in elements)\n{\n// ...\n}\n}\nIEnumerable&lt;int&gt; MyIteratorMethod()\n{\nyield return 1;\n// ... \u505a\u4e00\u4e9b\u522b\u7684\u64cd\u4f5c\nyield return 2;\n}\n</code></pre> <p>\u666e\u901a\u521b\u5efa\u8fed\u4ee3\u5668\u4e00\u822c\u4f1a\u6709\u7c7b\u4f3c\u4e8e<code>hasNext</code>\u548c<code>moveNext</code>\u8fd9\u4e24\u4e2a\u65b9\u6cd5\uff0c\u7136\u540e\u6bcf\u6b21\u8fed\u4ee3\u90fd\u4f1a\u5b8c\u6574\u7684\u53bb\u6267\u884c\u8fd9\u4e24\u4e2a\u65b9\u6cd5\u3002\u76f8\u6bd4\u4e4b\u4e0b\uff0c\u8fd9\u91cc\u63d0\u4f9b\u7684 <code>yield</code> \u5173\u952e\u5b57\u521b\u5efa\u8fed\u4ee3\u5668\u4f1a\u66f4\u7075\u6d3b\u4e00\u70b9\uff0c\u4e0d\u9700\u8981\u6a21\u677f\u5f0f\u7684\u63d0\u53d6\u4e0b\u4e00\u4e2a\u5143\u7d20\uff0c\u751a\u81f3\u53ef\u4ee5\u76f4\u63a5\u81ea\u5df1\u5199\u4e00\u4e9b\u5e38\u91cf\u503c\u8fdb\u53bb\u3002</p> \u540e\u8bb0 <p>\u8fd8\u5728\u5199\u672c\u7bc7\u524d\uff0c\u662f\u56e0\u4e3a\u60f3\u8981\u7406\u89e3\u534f\u7a0b\u624d\u641c\u4e86\u597d\u591a <code>yield</code> \u7684\u8d44\u6599\uff0c\u540e\u6765\u624d\u77e5\u9053\u8fd9\u4e2a\u53ea\u662fC#\u7684\u5173\u952e\u5b57\u800c\u5df2\uff0c\u5f53\u65f6\u8fd8\u4ee5\u4e3aUnity\u8fd8\u6574\u4e86\u4e2a\u5173\u952e\u5b57\u51fa\u6765\uff0c\u4e00\u76f4\u628a\u534f\u7a0b\u548c <code>yield</code> \u8fd9\u4e2a\u5173\u952e\u5b57\u6df7\u5728\u4e00\u8d77\u7406\u89e3\uff0c\u5f53\u65f6\u8fd8\u7eb3\u95f7\u4e3a\u4ec0\u4e48\u8fd9\u4e48\u9ebb\u70e6\uff0c\u8fd8\u6709\u4ec0\u4e48 <code>IEnumerator</code> \u8fd9\u6837\u7684\u4e2d\u95f4\u7c7b\u578b\uff0c\u4ee5\u4e3a\u8fd8\u6709\u597d\u591a\u9ad8\u7aef\u7528\u6cd5\u3002</p> <p>\u73b0\u5728\u660e\u767d\u4e86\u4e4b\u540e\u628a\u4e24\u4e2a\u4e1c\u897f\u5206\u5f00\u770b\uff0c\u786e\u5b9e\u662f\u4e00\u4e0b\u5c31\u7406\u89e3\u4e86\u2026\u2026</p> <p>\u6709\u5173\u534f\u7a0b\u7684\u5185\u5bb9\u53ef\u4ee5\u53c2\u8003\u8fd9\u7bc7</p>"},{"location":"game/physics/collision-detection/","title":"\u78b0\u649e\u68c0\u6d4b","text":""},{"location":"game/physics/collision-detection/#sat\u5206\u79bb\u8f74\u7406\u8bba","title":"SAT\u5206\u79bb\u8f74\u7406\u8bba","text":"<p>SAT (\u5206\u79bb\u8f74\u7406\u8bba) \u662f \u51f8\u96c6\u5206\u79bb\u5b9a\u7406 \u5728\u78b0\u649e\u68c0\u6d4b\u4e2d\u7684\u4e00\u79cd\u8fd0\u7528\u3002</p> <p>\u7406\u8bba\u63cf\u8ff01\u5982\u4e0b\uff1a</p> <p>\u5982\u679c\u5b58\u5728\u4e24\u4e2a\u5bf9\u8c61\u7684\u6295\u5f71\u4e0d\u91cd\u53e0\u7684\u7ebf\uff08\u79f0\u4e3a\u8f74\uff09\uff0c\u5219\u4e24\u4e2a\u51f8\u5bf9\u8c61\u4e0d\u91cd\u53e0\u3002</p> <p>\u65e0\u8bba\u7ef4\u5ea6\u5982\u4f55\uff0c\u5206\u79bb\u8f74\u59cb\u7ec8\u662f\u4e00\u6761\u7ebf\u3002\u4f8b\u5982\uff0c\u5728 3D \u4e2d\uff0c\u7a7a\u95f4\u7531\u5e73\u9762\u5206\u9694\uff0c\u4f46\u5206\u79bb\u8f74\u5782\u76f4\u4e8e\u5206\u9694\u5e73\u9762\u3002</p> <p>\u6bcf\u6761\u9762\u7684\u6cd5\u5411\u91cf\u6216\u5176\u4ed6\u7279\u5f81\u5411\u91cf\u5c06\u4f1a\u4f5c\u4e3a\u5206\u79bb\u8f74\u8fdb\u884c\u68c0\u6d4b\u3002</p> <p>\u5728 3D \u4e2d\uff0c\u53ea\u4f7f\u7528\u9762\u6cd5\u5411\u91cf\u65e0\u6cd5\u533a\u5206\u4e00\u4e9b\u8fb9\u5bf9\u8fb9\u7684\u975e\u78b0\u649e\u60c5\u51b5\u3002\u56e0\u6b64\u9700\u8981\u5f15\u5165\u989d\u5916\u7684\u8f74\uff0c\u5728\u6bcf\u4e2a\u7269\u4f53\u4e2d\u53d6\u4e00\u6761\u8fb9\uff0c\u5c06\u4e24\u6761\u8fb9\u7684\u53c9\u79ef\u4f5c\u4e3a\u5206\u79bb\u8f74\u8fdb\u884c\u68c0\u6d4b2\u3002</p> <p>\u7b14\u8bb0</p> <p>\u7b80\u5355\u7684\u6765\u8bf4\uff0c\u5c31\u662f\u5c3d\u53ef\u80fd\u7684\u5bfb\u627e\u6240\u6709\u7684\u5206\u79bb\u8f74\u53bb\u8bc1\u660e\u8fd9\u4e24\u4e2a\u7269\u4f53\u662f\u5206\u5f00\u7684\uff0c\u5426\u5219\u4e24\u4e2a\u7269\u4f53\u5c31\u662f\u76f8\u4ea4\u7684\u3002</p> <p>\u5728 2D \u4e2d\uff0c\u6bcf\u6761\u8fb9\u7684\u6cd5\u5411\u91cf\u4f5c\u4e3a\u5206\u79bb\u8f74\u5373\u53ef\u3002</p> <p>\u5728 3D \u4e2d\uff0c\u4ee5\u9762\u6cd5\u5411\u91cf\u4f5c\u4e3a\u5206\u79bb\u8f74\u68c0\u6d4b\uff0c\u4f46\u662f\u9700\u8981\u5f15\u5165\u989d\u5916\u7684\u5206\u79bb\u8f74\u53bb\u5224\u65ad\u7279\u6b8a\u60c5\u51b5\uff08\u8fb9\u78b0\u8fb9\uff09\u3002</p> <ol> <li> <p>Wiki \u21a9</p> </li> <li> <p>\u9ad8\u7ea7\u5411\u91cf\u6559\u5b66 \u21a9</p> </li> </ol>"},{"location":"game/physics/rotation/","title":"\u7269\u4f53\u65cb\u8f6c","text":"<p>\u5728\u6e38\u620f\u4e2d\u5bf9\u7269\u4f53\u8fdb\u884c\u65cb\u8f6c\u65f6\uff0c\u53ea\u9700\u8981\u5c06\u65cb\u8f6c\u77e9\u9635\u4e0e\u5176\u6240\u6709\u7684\u9876\u70b9\u5411\u91cf\u76f8\u4e58\uff0c\u5c31\u53ef\u4ee5\u5f97\u5230\u6240\u6709\u53d8\u6362\u540e\u7684\u9876\u70b9\u5750\u6807\u4e86</p>"},{"location":"game/physics/rotation/#\u65cb\u8f6c\u77e9\u9635","title":"\u65cb\u8f6c\u77e9\u9635","text":"<p>\u4e00\u884c\u516c\u5f0f\u5373\u53ef\u7406\u89e3\uff1a\\(R\\cdot\\vec{v}=\\vec{v}'\\)</p> <p>\u5176\u4e2d\uff0c\\(R\\) \u4e3a\u65cb\u8f6c\u77e9\u9635\uff0c\\(\\vec{v}\\) \u4e3a\u521d\u59cb\u5411\u91cf\uff0c\\(\\vec{v}'\\) \u4e3a\u53d8\u6362\u540e\u5411\u91cf</p>"},{"location":"game/physics/rotation/#\u4e8c\u7ef4\u65cb\u8f6c\u77e9\u9635","title":"\u4e8c\u7ef4\u65cb\u8f6c\u77e9\u9635","text":"<p>\u4ee5\u9006\u65f6\u9488\u65cb\u8f6c\u89d2\u5ea6 \\(\\theta\\) \u4f5c\u4e3a\u6b63\u89d2\uff0c\u65cb\u8f6c\u77e9\u9635\u4e3a\uff1a</p> <p>\\(M(\\theta) =  \\begin{bmatrix}  \\cos \\theta &amp; -\\sin \\theta \\\\  \\sin \\theta &amp; \\cos \\theta \\end{bmatrix}\\)</p>"},{"location":"game/physics/rotation/#\u4e09\u7ef4\u65cb\u8f6c\u77e9\u9635","title":"\u4e09\u7ef4\u65cb\u8f6c\u77e9\u9635","text":"<p>\u4ee5\u53f3\u624b\u7b1b\u5361\u5c14\u5750\u6807\u7cfb\u4e3a\u4f8b\uff0c\\(R_x,R_y,R_z\\) \u5206\u522b\u4e3a\u4ee5 \\(x,y,z\\) \u8f74\u65cb\u8f6c\u7684\u65cb\u8f6c\u77e9\u9635</p> <p>\\(R_x(\\theta_x) =  \\begin{bmatrix}  1 &amp; 0 &amp; 0 \\\\  0 &amp; \\cos \\theta_x &amp; -\\sin \\theta_x \\\\  0 &amp; \\sin \\theta_x &amp; \\cos \\theta_x \\end{bmatrix}\\)</p> <p>\\(R_y(\\theta_y) =  \\begin{bmatrix} \\cos \\theta_y &amp; 0 &amp; \\sin \\theta_y \\\\ 0 &amp; 1 &amp; 0 \\\\ -\\sin \\theta_y &amp; 0 &amp; \\cos \\theta_y \\end{bmatrix}\\)</p> <p>\\(R_z(\\theta_z) =  \\begin{bmatrix} \\cos \\theta_z &amp; -\\sin \\theta_z &amp; 0 \\\\ \\sin \\theta_z &amp; \\cos \\theta_z &amp; 0 \\\\ 0 &amp; 0 &amp; 1 \\end{bmatrix}\\)</p>"},{"location":"game/physics/rotation/#\u6b27\u62c9\u89d2tait-bryan\u89d21","title":"\u6b27\u62c9\u89d2(Tait-Bryan\u89d2)1","text":"<p>\u4e00\u79cd\u5e38\u7528\u7684\u65cb\u8f6c\u987a\u5e8f\u4e3a \\(z-y-x\\) \u6216\u8005\u8bf4 \\(z-y'-x''\\) (\u8868\u793a\u65b0\u7684\u8f74)\uff0c\u7ed5\u8fd9\u4e09\u4e2a\u8f74\u65cb\u8f6c\u7684\u89d2\u4f9d\u6b21\u88ab\u79f0\u4f5c\u504f\u822a\u89d2(yaw)\u3001\u4fef\u4ef0\u89d2(pitch)\u3001\u6eda\u52a8\u89d2(roll)\u8bb0\u4f5c \\(\\alpha,\\beta,\\gamma\\)</p> <p>\u5219\u5176\u65cb\u8f6c\u77e9\u9635\u4e3a\uff1a</p> <p>\\({\\displaystyle{\\begin{aligned} R &amp;= R_{z}(\\alpha)\\,R_{y}(\\beta)\\,R_{x}(\\gamma) \\\\  &amp;={\\overset {\\text{yaw}}{\\begin{bmatrix} \\cos \\alpha &amp;-\\sin \\alpha &amp;0\\\\ \\sin \\alpha &amp;\\cos \\alpha &amp;0\\\\ 0&amp;0&amp;1\\\\ \\end{bmatrix}}} {\\overset {\\text{pitch}}{\\begin{bmatrix} \\cos \\beta &amp;0&amp;\\sin \\beta \\\\ 0&amp;1&amp;0\\\\ -\\sin \\beta &amp;0&amp;\\cos \\beta \\\\ \\end{bmatrix}}} {\\overset {\\text{roll}}{\\begin{bmatrix} 1&amp;0&amp;0\\\\ 0&amp;\\cos \\gamma &amp;-\\sin \\gamma \\\\ 0&amp;\\sin \\gamma &amp;\\cos \\gamma \\\\ \\end{bmatrix}}}\\\\ &amp;={\\begin{bmatrix}\\cos \\alpha \\cos \\beta &amp;\\cos \\alpha \\sin \\beta \\sin \\gamma -\\sin \\alpha \\cos \\gamma &amp;\\cos \\alpha \\sin \\beta \\cos \\gamma +\\sin \\alpha \\sin \\gamma \\\\ \\sin \\alpha \\cos \\beta &amp;\\sin \\alpha \\sin \\beta \\sin \\gamma +\\cos \\alpha \\cos \\gamma &amp;\\sin \\alpha \\sin \\beta \\cos \\gamma -\\cos \\alpha \\sin \\gamma \\\\ -\\sin \\beta &amp;\\cos \\beta \\sin \\gamma &amp;\\cos \\beta \\cos \\gamma \\\\ \\end{bmatrix}} \\end{aligned}}}\\)</p> <p>\u4f46\u662f\u4f7f\u7528\u6b27\u62c9\u89d2\u8fdb\u884c\u53d8\u6362\u4f1a\u51fa\u73b0\u4e07\u5411\u9501\u7684\u60c5\u51b5\u3002</p> <p>\u4e07\u5411\u9501</p> <p>\u7531\u4e8e\u662f\u6839\u636e\u53d8\u6362\u540e\u7684\u8f74\u8fdb\u884c\u65cb\u8f6c\u7684\uff0c\u5176\u4e2d\u4e00\u6761\u8f74\u5728\u65cb\u8f6c \\(90\u00b0\\) \u540e\uff0c\u5176\u4f59\u4e24\u6761\u8f74\u4f1a\u91cd\u53e0\uff0c\u8fd9\u6837\u5176\u4e2d\u4e00\u6761\u8f74\u5c31\u4f1a\u5931\u53bb\u4f5c\u7528\u3002</p>"},{"location":"game/physics/rotation/#\u8f74-\u89d2\u5bf9","title":"\u8f74-\u89d2\u5bf9","text":"<p>\u987e\u540d\u601d\u4e49\uff0c\u4ee5\u4efb\u610f\u5411\u91cf\u4e3a\u8f74\uff0c\u5c06\u7269\u4f53\u8fdb\u884c\u65cb\u8f6c\uff0c\u4f46\u662f\u5750\u6807\u53d8\u6362\u7684\u8ba1\u7b97\u8fd8\u662f\u9700\u8981\u901a\u8fc7\u77e9\u9635\u6216\u8005\u56db\u5143\u6570\u7684\u65b9\u5f0f\u8fdb\u884c</p>"},{"location":"game/physics/rotation/#\u56db\u5143\u65702-3","title":"\u56db\u5143\u65702 3","text":"<p>\u82e5\u4efb\u610f\u5411\u91cf \\(\\vec{v}\\) \u6cbf\u7740\u4ee5 \u5355\u4f4d\u5411\u91cf \u5b9a\u4e49\u7684\u65cb\u8f6c\u8f74 \\(\\vec{u}\\) \u65cb\u8f6c \\(\\theta\\) \u89d2\u5ea6\u4e4b\u540e\u7684 \\(\\vec{v}'\\) </p> <p>\u4ee4 \\(a = \\cos \\frac{\\theta}{2}\\)\uff0c\\(b = \\sin \\frac{\\theta}{2} \\cdot \\vec{u_x}\\)\uff0c\\(c = \\sin \\frac{\\theta}{2} \\cdot \\vec{u_y}\\)\uff0c\\(d = \\sin \\frac{\\theta}{2} \\cdot \\vec{u_z}\\)\uff0c\\(v=[0, \\vec{v}]\\)\uff0c\\(v'=[0,\\vec{v}']\\)</p> <p>\u5219\u56db\u5143\u6570 \\(q = a + bi + cj + dk\\) \uff08 \\(a\\) \u4e3a\u5b9e\u90e8\uff0c\\(i,j,k\\) \u4e3a\u865a\u90e8\uff09</p> <p>\\({\\displaystyle{\\begin{aligned} v' = qvq^* &amp;= \\begin{bmatrix} a &amp; -b &amp; -c &amp; -d \\\\ b &amp; a &amp; -d &amp; c \\\\ c &amp; d &amp; a &amp; -b \\\\ d &amp; -c &amp; b &amp; a \\end{bmatrix} \\begin{bmatrix} a &amp; b &amp; c &amp; d \\\\ -b &amp; a &amp; -d &amp; c \\\\ -c &amp; d &amp; a &amp; -b \\\\ -d &amp; -c &amp; b &amp; a \\end{bmatrix} v\\\\ &amp;=\\begin{bmatrix} 1 &amp; 0 &amp; 0 &amp; 0 \\\\ 0 &amp; 1 - 2c^2 - 2d^2 &amp; 2bc - 2ad &amp; 2ac + 2bd \\\\  0 &amp; 2bc + 2ad &amp; 1 - 2b^2 - 2d^2 &amp; 2cd - 2ab \\\\ 0 &amp; 2bd - 2ac &amp; 2ab + 2cd &amp; 1 - 2b^2 - 2c^2 \\end{bmatrix}v \\end{aligned}}}\\)</p> <p>\u5316\u7b80\u5f97\uff1a</p> <p>\\({\\displaystyle{\\begin{aligned} \\vec{v}' = \\begin{bmatrix} 1 - 2c^2 - 2d^2 &amp; 2bc - 2ad &amp; 2ac + 2bd \\\\  2bc + 2ad &amp; 1 - 2b^2 - 2d^2 &amp; 2cd - 2ab \\\\ 2bd - 2ac &amp; 2ab + 2cd &amp; 1 - 2b^2 - 2c^2 \\end{bmatrix} \\vec{v} \\end{aligned}}}\\)</p> <p>\u8fd9\u6837\u5c31\u5f97\u5230\u4e86 \u8f74-\u89d2\u5bf9 \u7684\u65cb\u8f6c\u77e9\u9635</p> <p>\u4e0d\u8fc7\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u76f4\u63a5\u4f7f\u7528\u56db\u5143\u6570\u4e0e\u4e09\u7ef4\u5411\u91cf\u8f6c\u6362\u6210\u7684\u7eaf\u56db\u5143\u6570\u76f8\u4e58\u5373\u53ef\uff0c\u4f7f\u7528\u65cb\u8f6c\u77e9\u9635\u8fd0\u7b97\u6548\u7387\u5e76\u4e0d\u9ad8</p> <p>\u540c\u65f6\uff0c\u5bf9\u4e8e\u56db\u5143\u6570\u7279\u6027\uff0c\u53ef\u4ee5\u6bd4\u8f83\u5bb9\u6613\u7684\u5bf9\u56db\u5143\u6570\u8fdb\u884c\u63d2\u503c\uff0c\u4e14\u4e0d\u4f1a\u51fa\u73b0\u4e07\u5411\u9501\u7684\u95ee\u9898</p> <p>\u603b\u7ed3</p> <ol> <li>\u7b80\u5355\u7684\u6765\u8bf4\uff0c\u4e0a\u8ff0\u4e2d\u7684\u56db\u5143\u6570 \\(q\\) \u53ef\u4ee5\u7406\u89e3\u6210\u4e00\u4e2a\u53d8\u6362\u51fd\u6570\uff0c\u4f5c\u7528\u5c31\u662f\u5bf9\u5411\u91cf\u8fdb\u884c\u65cb\u8f6c\u3002</li> <li>\u56db\u5143\u6570\u4e0d\u80fd\u7b80\u5355\u7684\u770b\u4f5c\u56db\u7ef4\u5411\u91cf\uff0c\u50cf\u4ea4\u6362\u5f8b\u4e4b\u7c7b\u7684\u53ea\u80fd\u5728\u7279\u5b9a\u6761\u4ef6\u624d\u6ee1\u8db3\u3002</li> <li>\u611f\u89c9\u4e0d\u7406\u89e3\u95ee\u9898\u4e5f\u4e0d\u5927\uff0c\u5f00\u53d1\u6e38\u620f\u8fc7\u7a0b\u4e2d\u4f1a\u8c03API\u5c31\u884c\u3002</li> </ol> <ol> <li> <p>Wiki-\u65cb\u8f6c\u77e9\u9635 \u21a9</p> </li> <li> <p>Wiki-\u56db\u5143\u6570 \u21a9</p> </li> <li> <p>krasjet-\u56db\u5143\u6570\u4e0e\u4e09\u7ef4\u65cb\u8f6c\uff08\u5f3a\u70c8\u63a8\u8350\uff09\u00a0\u21a9</p> </li> </ol>"},{"location":"game/unity/assetbundle/","title":"AssetBundle","text":"<p>\u6307 Unity \u8d44\u6e90\u6587\u4ef6\u6253\u5305\u540e\u7684\u96c6\u5408</p>"},{"location":"game/unity/assetbundle/#\u4f5c\u7528","title":"\u4f5c\u7528","text":"<p>\u6839\u636e\u9700\u8981\u53ef\u4ee5\u5c06\u6e38\u620f\u5185\u7684\u8d44\u6e90\u6253\u5305\u6210 <code>AssetBundle</code> \u6587\u4ef6\uff0c\u53ef\u4ee5\u901a\u8fc7Unity\u63d0\u4f9b\u7684API\u6765\u5bf9\u52a0\u8f7d\u548c\u5378\u8f7d\uff0c\u8fd9\u6837\u53ef\u4ee5\u51cf\u5c11\u5185\u5b58\u6d88\u8017\uff0c\u65e0\u9700\u52a0\u8f7d\u6240\u6709\u8d44\u6e90\u6587\u4ef6\u3002</p>"},{"location":"game/unity/assetbundle/#\u538b\u7f29","title":"\u538b\u7f29","text":"<p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cUnity \u901a\u8fc7 <code>LZMA</code> \u538b\u7f29\u6765\u521b\u5efa AssetBundle\uff0c\u7136\u540e\u901a\u8fc7 <code>LZ4</code> \u538b\u7f29\u5c06\u5176\u7f13\u5b58\u30021</p>"},{"location":"game/unity/assetbundle/#lzma","title":"LZMA","text":"<p>\u538b\u7f29\u7387\u9ad8\uff0c\u9002\u5408\u7f51\u7edc\u4f20\u8f93\uff0c\u4f46\u8bfb\u53d6\u5176\u4e2d\u67d0\u4e2a\u8d44\u6e90\u9700\u8981\u5c06\u6574\u4e2a\u6587\u4ef6\u89e3\u538b\u3002</p>"},{"location":"game/unity/assetbundle/#lz4","title":"LZ4","text":"<p>\u57fa\u4e8e\u5757\u7684\u538b\u7f29\u7b97\u6cd5\uff0c\u538b\u7f29\u7387\u8f83 <code>LZMA</code> \u4f4e\uff0c\u4f46\u53ef\u4ee5\u5728\u7279\u5b9a\u5757\u8bfb\u53d6\u8d44\u6e90\uff0c\u662f <code>AssetBundle</code> \u7f13\u5b58\u4e2d\u7528\u7684\u7b97\u6cd5\u3002</p> <p>\u6253\u5305 AssetBundle \u65f6\u5f3a\u5236\u5f00\u542f <code>LZ4</code> \u4f7f\u7528 <code>BuildAssetBundleOptions.UncompressedAssetBundle</code>\uff0c\u5982\uff1a</p> <pre><code>[MenuItem(\"Build Asset Bundles/Uncompressed\")]\nstatic void BuildABsUncompressed()\n{\nBuildPipeline.BuildAssetBundles(\"Assets/MyAssetBuilds\", BuildAssetBundleOptions.UncompressedAssetBundle, BuildTarget.StandaloneOSX);\n}\n</code></pre>"},{"location":"game/unity/assetbundle/#\u7f13\u5b58","title":"\u7f13\u5b58","text":"<p>\u52a0\u8f7d\u7684 AssetBundle \u4ee5\u4e24\u79cd\u65b9\u5f0f\u7f13\u5b58\uff1a\u5185\u5b58\u3001\u786c\u76d8</p> <p>\u5b58\u50a8\u5728\u5185\u5b58\u4e2d\u8bfb\u53d6\u975e\u5e38\u5feb\uff0c\u4f46\u4f1a\u5360\u7528\u5927\u91cf\u5185\u5b58\uff0c\u786c\u76d8\u5219\u76f8\u53cd\u3002\u9664\u975e\u9700\u8981\u8bfb\u53d6\u975e\u5e38\u9891\u7e41\uff0c\u4e00\u822c\u90fd\u4f7f\u7528\u786c\u76d8\u7f13\u5b58\u3002</p> <p>\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e <code>Caching.compressionEnabled</code> \u6765\u9009\u62e9\u662f\u5426\u5f00\u542f\u7f13\u5b58\u538b\u7f29\uff0c\u9ed8\u8ba4\u5f00\u542f\uff0c\u4f7f\u7528 <code>LZ4</code> \u538b\u7f29\u3002</p> <p><code>AssetBundle.LoadFromFile</code> \u6216 <code>AssetBundle.LoadFromFileAsync</code> \u4f1a\u4f7f\u7528\u5185\u5b58\u7f13\u5b58\uff0c\u56e0\u6b64\u5e94\u8be5\u4f7f\u7528 UWR(UnityWebRequest) API\u3002</p> <p>\u5982\u679c\u65e0\u6cd5\u4f7f\u7528 UWR API\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>AssetBundle.RecompressAssetBundleAsync</code> \u5c06 LZMA AssetBundle \u91cd\u65b0\u5199\u5165\u786c\u76d8\u4e2d\u3002</p> <p>\u6ce8\u610f</p> <p>WebGL \u4e0d\u652f\u6301 LZMA \u538b\u7f29</p> <ol> <li> <p>\u5b98\u65b9\u6587\u6863 - AssetBundle \u538b\u7f29 \u21a9</p> </li> </ol>"},{"location":"game/unity/coroutine/","title":"\u534f\u7a0b","text":""},{"location":"game/unity/coroutine/#\u524d\u8a00","title":"\u524d\u8a00","text":"<p>\u5f53\u65f6\u4ee5\u4e3a\u534f\u7a0b\u662f\u4ec0\u4e48\u7c7b\u4f3c\u4e8e\u591a\u7ebf\u7a0b\u4e00\u6837\u7684\u9ebb\u70e6\u73a9\u610f\u513f\uff0c\u4e8b\u5b9e\u4e0a\u53ef\u4ee5\u76f4\u63a5\u7406\u89e3\u6210\u76d1\u542c\u4e8b\u4ef6\uff0c\u6267\u884c\u8fc7\u7a0b\u4ecd\u7136\u662f\u53d1\u751f\u5728\u4e3b\u7ebf\u7a0b\u4e0a\u7684</p>"},{"location":"game/unity/coroutine/#\u4ecb\u7ecd","title":"\u4ecb\u7ecd","text":"<p>\u534f\u7a0b\u4e3b\u8981\u662f\u901a\u8fc7C#\u63d0\u4f9b\u7684 <code>yield</code> \u5173\u952e\u5b57\u6765\u5b8c\u6210\u7684\uff0c\u6709\u5173\u8fd9\u4e2a\u5173\u952e\u5b57\u7684\u5185\u5bb9\u53ef\u4ee5\u53c2\u8003\u8fd9\u7bc7</p> <p>\u4e0b\u9762\u7ed9\u4e00\u5f20\u5b98\u7f51\u63d0\u4f9b\u7684\u751f\u547d\u5468\u671f\u56fe</p> \u811a\u672c\u751f\u547d\u5468\u671f <p></p> <p>\u53ef\u4ee5\u770b\u5230\u4e2d\u95f4\u6709 <code>yield WaitForFixedUpdate</code> \u4e4b\u7c7b\u7684\u5185\u5bb9\uff0c\u8fd9\u5c31\u662f\u4e8b\u4ef6\u5b8c\u6210\u7684\u4f4d\u7f6e\uff0c\u540c\u65f6\u4f1a\u7ee7\u7eed\u6267\u884c\u4f60\u5b9a\u4e49\u7684 <code>Enumerator</code> \u8fed\u4ee3\u5668\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u6267\u884c\u4f60\u5728\u4e8b\u4ef6\u53d1\u751f\u540e\u60f3\u8981\u5b8c\u6210\u7684\u5185\u5bb9\u4e86</p>"},{"location":"game/unity/coroutine/#\u7528\u6cd5","title":"\u7528\u6cd5","text":"<p>\u8fd9\u91cc\u8d34\u4e00\u4e0b\u5404\u79cd\u8fd4\u56de\u503c\u7684\u4f5c\u75281:</p> <ul> <li><code>yield return null</code> \u6682\u505c\u534f\u7a0b\u7b49\u5f85\u4e0b\u4e00\u5e27\u7ee7\u7eed\u6267\u884c</li> <li><code>yield return &lt;int&gt;</code> \u6682\u505c\u534f\u7a0b\u7b49\u5f85\u4e0b\u4e00\u5e27\u7ee7\u7eed\u6267\u884c</li> <li><code>yield return new WairForSeconds(time)</code> \u7b49\u5f85\u89c4\u5b9a\u65f6\u95f4\u540e\u7ee7\u7eed\u6267\u884c</li> <li><code>yield return StartCoroutine(\"method\")</code> \u5f00\u542f\u4e00\u4e2a\u534f\u7a0b\uff08\u5d4c\u5957\u534f\u7a0b)</li> <li><code>yield return GameObject;</code> \u5f53\u6e38\u620f\u5bf9\u8c61\u88ab\u83b7\u53d6\u5230\u4e4b\u540e\u6267\u884c</li> <li><code>yield return new WaitForFixedUpdate()</code> \u7b49\u5230\u4e0b\u4e00\u4e2a\u56fa\u5b9a\u5e27\u6570\u66f4\u65b0</li> <li><code>yield return new WaitForEndOfFrame()</code> \u7b49\u5230\u6240\u6709\u76f8\u673a\u753b\u9762\u88ab\u6e32\u67d3\u5b8c\u6bd5\u540e\u66f4\u65b0</li> <li><code>yield break</code> \u8df3\u51fa\u534f\u7a0b\u5bf9\u5e94\u65b9\u6cd5\uff0c\u5176\u540e\u9762\u7684\u4ee3\u7801\u4e0d\u4f1a\u88ab\u6267\u884c</li> </ul> <p>\u518d\u8d34\u4e00\u4e0b\u793a\u4f8b:</p> <pre><code>private void Start()\n{\n// \u63a8\u8350\nStartCoroutine(YourCoroutine());\nStartCoroutine(nameof(YourCoroutine));\n}\n// \u4f7f\u7528\u5b57\u7b26\u4e32\u65b9\u5f0f\u8c03\u7528\u4e0d\u80fd\u8ba9 IEnumerator \u5e26\u6cdb\u578b\uff08\u867d\u7136\u4e00\u822c\u4e5f\u7528\u4e0d\u5230\uff09\nprivate IEnumerator YourCoroutine()\n{\nyield return new WaitForSeconds(1);\n// ... \n}\n</code></pre> <p>\u4f5c\u7528\u5c31\u662f\u6bcf\u6b21 <code>FixedUpdate</code> \u540e1\u79d2\u6267\u884c...\u7684\u90e8\u5206\uff0c\u8fd9\u91cc\u5efa\u8bae\u4f7f\u7528\u4e0a\u9762\u7684\u65b9\u6cd5\uff0c\u76f8\u6bd4\u4f7f\u7528\u65b9\u6cd5\u540d\u5b57\u7b26\u4e32\u8c03\u7528\u65b9\u6cd5\u5f00\u9500\u8981\u66f4\u4f4e\u4e00\u70b9\uff0c\u5e76\u4e14\u53ef\u4ee5\u5e26\u66f4\u591a\u53c2\u6570\uff08\u65b9\u6cd5\u540d\u8c03\u7528\u53ea\u80fd\u5e26\u4e00\u4e2a\u53c2\u6570\uff09\u3002</p> <p>\u7528\u65b9\u6cd5\u540d\u7684\u5b57\u7b26\u4e32\u8c03\u7528\u7684\u8bdd\u552f\u4e00\u4e00\u70b9\u597d\u5904\u5927\u6982\u5c31\u662f\u53ef\u4ee5\u7528 <code>StopCoroutine(\"YourCoroutine\")</code> \u8fd9\u79cd\u7528\u5b57\u7b26\u4e32\u505c\u6b62\u7684\u65b9\u5f0f\uff0c\u5426\u5219\u9700\u8981\u4fdd\u5b58\u534f\u7a0b\u4fe1\u606f\uff0c\u624d\u80fd\u505c\u6b62\u534f\u7a0b\u3002</p> <pre><code>private void Start()\n{\n// \u7b2c\u4e00\u79cd\u5173\u95ed\u65b9\u5f0f\nCoroutine c = StartCoroutine(YourCoroutine());\nStopCoroutine(c);\n// \u7b2c\u4e8c\u79cd\u5173\u95ed\u65b9\u5f0f\nStartCoroutine(nameof(YourCoroutine));\nStopCoroutine(nameof(YourCoroutine));\n}\n</code></pre> <p>\u540e\u8bb0</p> <p>\u8fd9\u7bc7\u5f15\u7528\u7684\u535a\u5ba2\u5e2e\u4e86\u6211\u5f88\u5927\u7684\u5fd9\uff0c\u7279\u522b\u662f\u4e2d\u95f4\u8fd9\u5f20\u751f\u547d\u5468\u671f\u56fe\uff0c\u53ef\u4ee5\u8bf4\u662f\u8ba9\u6211\u7a81\u7136 \u609f\u4e86 \uff0c\u8bf4\u5b9e\u8bdd\u6211\u5e76\u6ca1\u6709\u4e60\u60ef\u53bb\u7ffb\u5b98\u65b9\u6587\u6863\uff0c\u4f46\u662f\u5b98\u65b9\u6587\u6863\u771f\u7684\u662f\u4e2a\u597d\u4e1c\u897f</p> <p>\u66f4\u8be6\u7ec6\u7684\u5185\u5bb9\u53ef\u4ee5\u53c2\u8003\u8fd9\u7bc7\u535a\u5ba2\uff0c\u8fd9\u91cc\u7684\u5b66\u4e60\u7b14\u8bb0\u53ea\u662f\u7b80\u5355\u603b\u7ed3\u4e00\u4e0b</p> <ol> <li> <p>@xinzhilinger\u5206\u4eab\u7684Unity \u534f\u7a0b(Coroutine)\u539f\u7406\u4e0e\u7528\u6cd5\u8be6\u89e3 \u21a9</p> </li> </ol>"},{"location":"game/unity/layer-mask/","title":"LayerMask","text":""},{"location":"game/unity/layer-mask/#\u524d\u8a00","title":"\u524d\u8a00","text":"<p>\u5f00\u59cb\u5e76\u4e0d\u4e86\u89e3 <code>LayerMask</code> \u7684\u7528\u6cd5\uff0c\u770b\u5230 <code>Physics2D</code> \u91cc\u9762\u65b9\u6cd5\u53c2\u6570\u5c31\u662f\u4e00\u4e2a <code>int</code> \u7c7b\u578b\uff0c\u8fd8\u4ee5\u4e3a\u662f\u7b2c\u51e0\u4e2a\u56fe\u5c42\u5c31\u586b\u6570\u5b57\u51e0\uff0c\u51b5\u4e14\u8fd8\u6709 <code>LayerMask.NameToLayer</code> \u8fd9\u4e2a\u65b9\u6cd5\uff0c\u770b\u65b9\u6cd5\u540d\u548c\u8fd4\u56de\u503c\u7c7b\u578b\u633a\u50cf\u90a3\u4e48\u56de\u4e8b\uff0c\u5c31\u7528\u8fd9\u4e2a\u51fd\u6570\u7684\u8fd4\u56de\u503c\u6765\u586b\u53c2\u6570\u4e86\u3002\u540e\u6765\u56e0\u4e3a\u6ca1\u6709\u751f\u6548\u624d\u515c\u515c\u8f6c\u8f6c\u53d1\u73b0\u5e76\u6ca1\u6709\u7406\u89e3 <code>LayerMask</code> \u3002</p> <p>\u5b98\u65b9\u8bf4\u660e</p> <p>LayerMask is a bitmask. Use LayerMask.GetMask and LayerMask.LayerToName to generate the bitmask. 1</p>"},{"location":"game/unity/layer-mask/#\u4ecb\u7ecd","title":"\u4ecb\u7ecd","text":"<p>\u5176\u5b9e\u56de\u5230 <code>Physics2D</code> \u91cc\u7684\u65b9\u6cd5\u53c2\u6570\u5c31\u53ef\u4ee5\u77e5\u9053\u90a3\u6837\u7684\u7406\u89e3\u662f\u5f88\u6709\u95ee\u9898\u7684\uff0c\u56e0\u4e3a\u53c2\u6570\u53ea\u6709\u4e00\u4e2a <code>int</code> \u7c7b\u578b\uff0c\u5982\u679c\u9700\u8981\u68c0\u6d4b\u591a\u4e2a\u56fe\u5c42\u8be5\u600e\u4e48\u529e\u5462\uff1f</p> <p>\u6240\u4ee5\u8bf4\uff0c\u8fd9\u4e2a <code>int</code> \u53c2\u6570\u662f\u53ef\u4ee5\u8868\u793a\u591a\u4e2a\u7c7b\u578b\u7684\uff0c\u800c\u5b9e\u73b0\u5c31\u662f\u7c7b\u4f3c\u4e8e <code>Bitmap</code>\u3002</p> <p>\u4e00\u4e2a <code>int</code> \u7c7b\u578b\u53d8\u91cf\u67094\u5b57\u8282\uff0c\u4e5f\u5c31\u662f32\u4f4d\uff0c\u4ece\u4f4e\u5230\u9ad8\uff0c\u7b2c\u51e0\u4f4d\u4e3a1\u5c31\u4ee3\u8868\u5305\u542b\u7b2c\u51e0\u4e2a\u56fe\u5c42\u3002</p> <p>\u4f8b\u5982\uff1a</p> <p>LayerMask = 0000 0000 0000 0000 0000 0000 0000 1001</p> <p>\u8868\u793a\u8fd9\u4e2a <code>LayerMask</code> \u5305\u542b\u7b2c0\u5c42\u4ee5\u53ca\u7b2c3\u5c42 <code>Layer</code></p>"},{"location":"game/unity/layer-mask/#\u4f7f\u7528\u65b9\u6cd5","title":"\u4f7f\u7528\u65b9\u6cd5","text":"<p>\u5e38\u7528\u7684\u6709\u4e24\u79cd\u65b9\u6cd5 <code>LayerMask.GetMask</code> \u548c <code>LayerMask.NameToLayer</code>\uff0c\u4e24\u8005\u5e76\u4e0d\u7b49\u4ef7</p> <p>\u7b80\u5355\u7684\u6765\u8bf4 <code>LayerMask.GetMask(\"Default\")</code> \u7b49\u4ef7\u4e8e <code>1 &lt;&lt; LayerMask.NameToLayer(\"Default\")</code></p>"},{"location":"game/unity/layer-mask/#layermaskgetmaskstring","title":"LayerMask.GetMask(string...)","text":"<p>\u83b7\u53d6\u7684\u662f\u4e00\u4e2a <code>Mask</code> \u8868\u793a <code>Layer</code> \u96c6\u5408\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u53ef\u4ee5\u586b\u5199\u591a\u4e2a\u56fe\u5c42\u540d</p>"},{"location":"game/unity/layer-mask/#layermasknametolayerstring","title":"LayerMask.NameToLayer(string)","text":"<p>\u901a\u8fc7\u56fe\u5c42\u540d\u6765\u83b7\u53d6 <code>Layer</code> \u5728\u7b2c\u51e0\u5c42</p> <ol> <li> <p>\u5b98\u65b9\u6587\u6863 - LayerMask \u21a9</p> </li> </ol>"},{"location":"games-course/games101/lecture-4-question/","title":"\u7b2c4\u8bb2 \u8bfe\u540e\u9898","text":"<p>\u539f\u95ee\u9898\uff1a\u8fd1\u548c\u8fdc\u5e73\u9762\u4e4b\u95f4\u7684\u4efb\u4f55\u4e00\u70b9\u5728\u7ecf\u8fc7\u201c\u6324\u538b\u201d\u53d8\u6362\u540e\uff0c Z\u5750\u6807\u7684\u503c\u4f1a\u5982\u4f55\u53d8\u5316\uff1f1</p> <p>\u53c8\u56e0\u4e3a\u8003\u8651\u5230\u6444\u50cf\u673a\u662f\u671d\u5411-Z\u65b9\u5411\uff0c\\(n_z &gt; f_z\\)\uff0c\u4f1a\u5bfc\u81f4\u6bd4\u8f83\u6df7\u4e71\uff0c\u56e0\u6b64\u63d0\u51fa\u4e86\u4e00\u4e2a\u7b80\u5316\u540e\u7684\u95ee\u9898\uff1a</p> <p>\u70b9 \\((x,y,\\frac{n+f}{2})\\) \u5728\u7ecf\u8fc7\u53d8\u6362\u540e\u4f1a\u66f4\u9760\u8fd1 \u8fd1\u5e73\u9762 \u8fd8\u662f \u8fdc\u5e73\u9762 \uff1f</p>"},{"location":"games-course/games101/lecture-4-question/#\u89e3","title":"\u89e3","text":"<p>\u867d\u7136\u597d\u4e45\u6ca1\u5199\u8fc7\u6570\u5b66\u9898\u4e86\uff0c\u8fd8\u662f\u8bd5\u7740\u5199\u4e00\u5199\u770b\u770b\u3002</p>"},{"location":"games-course/games101/lecture-4-question/#\u7b80\u5316\u540e\u7684\u9898\u89e3","title":"\u7b80\u5316\u540e\u7684\u9898\u89e3","text":"<p>\u5728\u89c6\u9891\u4e2d\u5df2\u7ecf\u53ef\u4ee5\u5f97\u5230\u77e9\u9635\uff1a</p> <p>\\({\\displaystyle{\\begin{aligned} M_{persp \\rightarrow ortho}=\\begin{bmatrix} n &amp; 0 &amp; 0 &amp; 0 \\\\ 0 &amp; n &amp; 0 &amp; 0 \\\\ 0 &amp; 0 &amp; n+f &amp; -nf \\\\ 0 &amp; 0 &amp; 1 &amp; 0 \\end{bmatrix} \\end{aligned}}}\\)</p> <p>\u53f3\u4e58\u5217\u5411\u91cf \\((x,y,\\frac{n+f}{2},1)\\) \uff0c\u53ef\u5f97\u53d8\u6362\u540e\u7684\u5217\u5411\u91cf\uff1a</p> <p>\\({\\displaystyle{\\begin{aligned} (nx,ny,\\frac{n^2+f^2}{2},\\frac{n+f}{2}) \\end{aligned}}}\\)</p> <p>\u5373\uff1a</p> <p>\\({\\displaystyle{\\begin{aligned} z' = \\frac{\\frac{n^2+f^2}{2}}{\\frac{n+f}{2}} = \\frac{n^2+f^2}{n+f} \\end{aligned}}}\\)</p> <p>\u4e24\u5750\u6807\u76f8\u51cf\u53ef\u5f97\uff1a</p> <p>\\({\\displaystyle{\\begin{aligned} z' - z = \\frac{n^2+f^2}{n+f} - \\frac{n+f}{2} = \\frac{(n-f)^2}{2(n+f)} \\end{aligned}}}\\)</p> <p>\u7531\u4e8e\u6444\u50cf\u673a\u671d\u5411Z\u8f74 \u8d1f\u65b9\u5411 \uff0c\u6240\u4ee5 \\(f &lt; n &lt; 0\\)\uff0c\u5f97</p> <p>\\({\\displaystyle{\\begin{aligned} z' - z &lt; 0 \\end{aligned}}}\\)</p> <p>\u6240\u4ee5\u66f4\u9760\u8fd1 \u8fdc\u5e73\u9762</p>"},{"location":"games-course/games101/lecture-4-question/#\u539f\u9898\u89e3","title":"\u539f\u9898\u89e3","text":"<p>\u4e0a\u9762\u4ee3\u5165\u7684\u662f\u4e2d\u70b9\u8fd9\u4e2a\u7279\u6b8a\u503c\uff0c\u4e0b\u9762\u8bd5\u7740\u6c42\u4e00\u4e0b\u901a\u7528\u89e3\u3002</p> <p>\u8bbe\u4e24\u5e73\u9762\u4e2d\u95f4\u4efb\u610f\u4e00\u70b9\u5750\u6807\u4e3a \\((x,y,z)\\)\uff0c\u90a3\u4e48\\(f &lt; z &lt; n &lt; 0\\)</p> <p>\u540c\u4e0a\u8ff0\u89e3\u6cd5\u53ef\u5f97\u53d8\u6362\u540e\u7684\u5750\u6807 \\(z'\\) \u4e3a\uff1a</p> <p>\\({\\displaystyle{\\begin{aligned} z' = \\frac{(n+f)z - nf}{z} \\end{aligned}}}\\)</p> <p>\u4e0e\u539f\u5750\u6807\u76f8\u51cf\u5f97\uff1a</p> <p>\\({\\displaystyle{\\begin{aligned} z' - z = \\frac{(n+f)z - nf}{z} - z = (n+f) - (\\frac{nf}{z} + z) \\end{aligned}}}\\)</p> <p>\u4ee4 \\(t = nf\\)\uff0c\u5219\uff1a</p> <p>\\({\\displaystyle{\\begin{aligned} z' - z = (n + \\frac{t}{n}) - (z + \\frac{t}{z}) \\end{aligned}}}\\)</p> <p>\u4ee4 \\({\\displaystyle{\\begin{aligned}f(x)=x + \\frac{t}{x}\\end{aligned}}}\\)\uff0c\u5219 \\(x \\in (-\\infty,-\\sqrt{t})\\) \u65f6\uff0c\u5355\u8c03\u9012\u589e\uff0c\\(x \\in (-\\sqrt{t},0)\\) \u65f6\uff0c\u5355\u8c03\u9012\u51cf\u3002</p> <p>\u4ee4 \\({\\displaystyle{\\begin{aligned} f = n - k (k &gt; 0), g(n)=n - \\left(-\\sqrt{n(n-k)}\\right) \\end{aligned}}}\\)\uff0c\u5bf9 \\(g(n)\\) \u6c42\u5bfc\u5f97\uff1a</p> <p>\\({\\displaystyle{\\begin{aligned} g'(n) = \\frac{n - \\frac{1}{2}k}{\\sqrt{n^2-kn}} + 1 &lt; 0  \\end{aligned}}}\\) \uff08\u53ef\u4ee5\u63a5\u7740\u6c42\u5bfc\u6765\u8bc1\uff09</p> <p>\u56e0\u6b64 \\(g(n)\\) \u5728 \\(n &lt; 0\\) \u65f6\u5355\u8c03\u9012\u51cf\uff0c\u4e14 \\(g(n) &gt; 0\\)</p> <p>\u5219\uff1a\\(n &gt; -\\sqrt{n(n-k)} = -\\sqrt{t}\\)</p> <p>\u540c\u7406\u5f97\uff1a\\(f = n - k &gt; -\\sqrt{n(n-k)} = -\\sqrt{t}\\)</p> <p>\u6240\u4ee5\uff1a \\({\\displaystyle{\\begin{aligned} z' - z = f(n) - f(z) &lt; 0 \\end{aligned}}}\\)</p> <p>\u6240\u4ee5\u66f4\u9760\u8fd1 \u8fdc\u5e73\u9762</p> <p>\u8b66\u544a</p> <p>\u867d\u7136\u8bd5\u7740\u8bc1\u660e\u4e86\u4e00\u4e0b\uff0c\u4f46\u4e0d\u4fdd\u8bc1\u8bc1\u660e\u8fc7\u7a0b\u6b63\u786e\u6027\uff0c\u4e0d\u8fc7\u5927\u81f4\u5e94\u8be5\u6ca1\u95ee\u9898\uff0c\u5982\u679c\u770b\u5230\u8fd9\u91cc\u7684\u540c\u5b66\u53d1\u73b0\u6709\u8bef\uff0c\u53ef\u4ee5\u53d1\u4e0b <code>Issue</code>\u3002</p> <ol> <li> <p>BILI - \u7b2c4\u8bb2\u89c6\u9891 \u21a9</p> </li> </ol>"},{"location":"games-course/games101/summary-1-5/","title":"\u8bfe\u7a0b 1-5 \u9636\u6bb5\u6027\u603b\u7ed3","text":"<p>\u8fd9\u90e8\u5206\u5185\u5bb9\u4e3b\u8981\u4ecb\u7ecd\u4e86\uff1a</p> <ul> <li>\u5411\u91cf\u3001\u77e9\u9635\u8fd0\u7b97\uff08\u7ebf\u6027\u4ee3\u6570\uff09</li> <li>MVP\u53d8\u6362\uff08Model-View-Projection\uff09</li> <li>\u89c6\u53e3\u53d8\u6362\uff08Viewport\uff09</li> </ul> <p>\u63a5\u4e0b\u6765\u505a\u4e00\u4e0b\u7b80\u5355\u603b\u7ed3\uff0c\u7ebf\u4ee3\u90e8\u5206\u5c31\u7565\u8fc7\u4e86\u3002</p>"},{"location":"games-course/games101/summary-1-5/#m-v-p-\u53d8\u6362","title":"M-V-P \u53d8\u6362","text":"<p>\u5728\u6211\u7684\u7406\u89e3\u4e2d\uff0c\u5b8c\u6210\u8fd9\u4e09\u79cd\u53d8\u6362\u4e8b\u5b9e\u4e0a\u5c31\u662f\u5c06\u7269\u4f53\u6620\u5c04\u5230\u6807\u51c6\u7a7a\u95f4\u4e2d\u3002</p> <p>\u8fd9\u91cc\u7684\u6807\u51c6\u7a7a\u95f4\u662f\u4ee5\u539f\u70b9\u4e3a\u4e2d\u5fc3\uff0c\u8fb9\u957f\u4e3a2\u7684\u7acb\u65b9\u4f53\u7a7a\u95f4\uff0c\u8bfe\u7a0b\u4e2d\u7528 \\([-1,1]^3\\) \u6765\u8868\u793a</p>"},{"location":"games-course/games101/summary-1-5/#\u6a21\u578b\u53d8\u6362-model-transoformation","title":"\u6a21\u578b\u53d8\u6362 (Model Transoformation)","text":"<p>\u8fd9\u91cc\u7684\u53d8\u6362\u4e3b\u8981\u662f\u5bf9\u89c2\u5bdf\u7269\u4f53\u8fdb\u884c\u64cd\u4f5c\uff0c\u901a\u8fc7\u7f29\u653e\u3001\u65cb\u8f6c\u3001\u5e73\u79fb\u7b49\u64cd\u4f5c\uff0c\u5bf9\u7269\u4f53\u5750\u6807\u8fdb\u884c\u53d8\u6362\u3002</p> <p>\u7528\u5b98\u65b9\u70b9\u7684\u8bdd\u8bb2\u5c31\u662f \u5c06\u6a21\u578b\u7a7a\u95f4\u8f6c\u6362\u5230\u4e16\u754c\u7a7a\u95f4\u3002\u7b80\u5355\u7684\u6765\u8bb2\u5c31\u662f\u5c06\u4e00\u4e2a\u7269\u4f53\u6446\u653e\u5728\u4e00\u4e2a\u4e16\u754c\u4e2d\uff0c\u4ee5\u8be5\u4e16\u754c\u7684\u5750\u6807\u7cfb\u6765\u8868\u793a\u8be5\u7269\u4f53\u3002</p>"},{"location":"games-course/games101/summary-1-5/#scale\u7f29\u653e","title":"Scale\uff08\u7f29\u653e\uff09","text":"<p>\\({\\displaystyle{\\begin{aligned} S(s_x,s_y,s_z)=\\begin{bmatrix} s_x &amp; 0 &amp; 0 &amp; 0 \\\\ 0 &amp; s_y &amp; 0 &amp; 0 \\\\ 0 &amp; 0 &amp; s_z &amp; 0 \\\\ 0 &amp; 0 &amp; 0 &amp; 1 \\end{bmatrix} \\end{aligned}}}\\)</p>"},{"location":"games-course/games101/summary-1-5/#translation\u5e73\u79fb","title":"Translation\uff08\u5e73\u79fb\uff09","text":"<p>\\({\\displaystyle{\\begin{aligned} T(t_x,t_y,t_z)=\\begin{bmatrix} 1 &amp; 0 &amp; 0 &amp; t_x \\\\ 0 &amp; 1 &amp; 0 &amp; t_y \\\\ 0 &amp; 0 &amp; 1 &amp; t_z \\\\ 0 &amp; 0 &amp; 0 &amp; 1 \\end{bmatrix} \\end{aligned}}}\\)</p>"},{"location":"games-course/games101/summary-1-5/#rotation\u65cb\u8f6c","title":"Rotation\uff08\u65cb\u8f6c\uff09","text":"<p>\\({\\displaystyle{\\begin{aligned} R_x(\\alpha)=\\begin{bmatrix} 1 &amp; 0 &amp; 0 &amp; 0 \\\\ 0 &amp; \\cos\\alpha &amp; -\\sin\\alpha &amp; 0 \\\\ 0 &amp; \\sin\\alpha &amp; \\cos\\alpha &amp; 0 \\\\ 0 &amp; 0 &amp; 0 &amp; 1 \\end{bmatrix} \\end{aligned}}}\\)</p> <p>\\({\\displaystyle{\\begin{aligned} R_y(\\alpha)=\\begin{bmatrix} \\cos\\alpha &amp; 0 &amp; \\sin\\alpha &amp; 0 \\\\ 0 &amp; 1 &amp; 0 &amp; 0 \\\\ -\\sin\\alpha &amp; 0 &amp; \\cos\\alpha &amp; 0 \\\\ 0 &amp; 0 &amp; 0 &amp; 1 \\end{bmatrix} \\end{aligned}}}\\)</p> <p>\\({\\displaystyle{\\begin{aligned} R_z(\\alpha)=\\begin{bmatrix} \\cos\\alpha &amp; -\\sin\\alpha &amp; 0 &amp; 0 \\\\ \\sin\\alpha &amp; \\cos\\alpha &amp; 0 &amp; 0 \\\\ 0 &amp; 0 &amp; 1 &amp; 0 \\\\ 0 &amp; 0 &amp; 0 &amp; 1 \\end{bmatrix} \\end{aligned}}}\\)</p>"},{"location":"games-course/games101/summary-1-5/#\u89c2\u5bdf\u53d8\u6362-view--camera-transoformation","title":"\u89c2\u5bdf\u53d8\u6362 (View / Camera Transoformation)","text":"<p>\u89c2\u5bdf\u53d8\u6362\u5c31\u662f \u5c06\u4e16\u754c\u7a7a\u95f4\u8f6c\u6362\u5230\u89c2\u5bdf\u7a7a\u95f4\u3002</p> <p>\u7531\u4e8e\u6444\u50cf\u673a\uff08\u89c2\u5bdf\u8005\uff09\u4e0e\u7269\u4f53\u76f8\u5bf9\u4f4d\u7f6e\u662f\u56fa\u5b9a\u7684\uff0c\u56e0\u6b64\u5c06\u6444\u50cf\u673a\u6446\u653e\u5728\u539f\u70b9\u4f4d\u7f6e\uff0c\u671d-Z\u7684\u65b9\u5411\u89c2\u770b\uff0c\u540c\u65f6\u7269\u4f53\u4f4d\u7f6e\u8ddf\u7740\u53d8\u6362\uff0c\u8fd9\u6837\u4f1a\u6709\u5f88\u591a\u597d\u5904\uff08\u6ca1\u6709\u5177\u4f53\u8bf4\u660e\uff0c\u5927\u6982\u662f\u65b9\u4fbf\u8ba1\u7b97\u4e4b\u7c7b\u7684\uff09\u3002</p>"},{"location":"games-course/games101/summary-1-5/#\u53d8\u6362\u516c\u5f0f","title":"\u53d8\u6362\u516c\u5f0f","text":"<ul> <li>\u4f4d\u7f6e\uff1a\\(\\vec{e}\\)</li> <li>\u89c2\u5bdf\u65b9\u5411\uff1a\\(\\hat{g}\\)</li> <li>\u5411\u4e0a\u65b9\u5411\uff1a\\(\\hat{t}\\)</li> </ul> <p>\\({\\displaystyle{\\begin{aligned} M_{view}&amp;=R_{view}T_{view} \\\\ &amp;=\\begin{bmatrix} x_{\\hat{g}\\times\\hat{t}} &amp; y_{\\hat{g}\\times\\hat{t}} &amp; z_{\\hat{g}\\times\\hat{t}} &amp; 0 \\\\ x_t &amp; y_t &amp; z_t &amp; 0 \\\\ x_{-g} &amp; y_{-g} &amp; z_{-g} &amp; 0 \\\\ 0 &amp; 0 &amp; 0 &amp; 1 \\end{bmatrix} \\begin{bmatrix} 1 &amp; 0 &amp; 0 &amp; -x_e \\\\ 0 &amp; 1 &amp; 0 &amp; -y_e \\\\ 0 &amp; 0 &amp; 1 &amp; -z_e \\\\ 0 &amp; 0 &amp; 0 &amp; 1 \\end{bmatrix} \\end{aligned}}}\\)</p> <p>\u5176\u5b9e\u76f8\u5f53\u4e8e\u662f\u5bf9\u5750\u6807\u7cfb\u8fdb\u884c\u53d8\u6362</p>"},{"location":"games-course/games101/summary-1-5/#\u6295\u5f71\u53d8\u6362-projection-transoformation","title":"\u6295\u5f71\u53d8\u6362 (Projection Transoformation)","text":"<p>\u6295\u5f71\u53d8\u6362\u5c31\u662f \u5c06\u89c2\u5bdf\u7a7a\u95f4\u8f6c\u6362\u5230\u88c1\u526a\u7a7a\u95f4\u3002</p> <p>\u7531\u4e8e\u4eba\u89c2\u5bdf\u7269\u4f53\u7684\u89c6\u91ce\u8303\u56f4\u662f\u4e00\u4e2a\u9525\u5f62\uff0c\u6620\u5c04\u7269\u4f53\u5230\u6807\u51c6\u7acb\u65b9\u4f53\u7a7a\u95f4\u65f6\u4f1a\u4ea7\u751f\u4e00\u5b9a\u7684\u626d\u66f2\uff0c\u53cd\u5e94\u5728\u5c4f\u5e55\u4e0a\u5c31\u662f\u6709\u201c\u8fd1\u5927\u8fdc\u5c0f\u201d\uff0c\u5e73\u884c\u7ebf\u4ea4\u4e8e\u4e00\u70b9\u7684\u900f\u89c6\u6548\u679c\u3002</p>"},{"location":"games-course/games101/summary-1-5/#\u53d8\u6362\u516c\u5f0f_1","title":"\u53d8\u6362\u516c\u5f0f","text":"<p>\\({\\displaystyle{\\begin{aligned} M_{ortho}=\\begin{bmatrix} \\frac{2}{r-l} &amp; 0 &amp; 0 &amp; 0 \\\\ 0 &amp; \\frac{2}{t-b} &amp; 0 &amp; 0 \\\\ 0 &amp; 0 &amp; \\frac{2}{n-f} &amp; 0 \\\\ 0 &amp; 0 &amp; 0 &amp; 1 \\end{bmatrix} \\begin{bmatrix} 1 &amp; 0 &amp; 0 &amp; -\\frac{r+l}{2} \\\\ 0 &amp; 1 &amp; 0 &amp; -\\frac{t+b}{2} \\\\ 0 &amp; 0 &amp; 1 &amp; -\\frac{n+f}{2} \\\\ 0 &amp; 0 &amp; 0 &amp; 1 \\end{bmatrix} \\end{aligned}}}\\)</p> <p>\\({\\displaystyle{\\begin{aligned} M_{persp \\rightarrow ortho}=\\begin{bmatrix} n &amp; 0 &amp; 0 &amp; 0 \\\\ 0 &amp; n &amp; 0 &amp; 0 \\\\ 0 &amp; 0 &amp; n+f &amp; -nf \\\\ 0 &amp; 0 &amp; 1 &amp; 0 \\end{bmatrix} \\end{aligned}}}\\)</p> <p>\\({\\displaystyle{\\begin{aligned} M_{persp}=M_{ortho}M_{persp \\rightarrow ortho} \\end{aligned}}}\\)</p> <p>\u5bf9\u4e8e \\(M_{persp \\rightarrow ortho}\\) \u77e9\u9635\uff0c\u53ef\u80fd\u4f1a\u53d1\u73b0\u4e0e\u4e00\u4e9b\u6559\u79d1\u4e66\u4e0a\u7684\u516c\u5f0f\u4e0d\u592a\u4e00\u6837\uff0c\u4e3b\u8981\u662f\u8fd9\u91cc\u89c6\u9891\u4e2d\u89c4\u5b9a\u7684 \\(f&lt;n&lt;0\\)\uff0c\u800c\u5176\u4ed6\u6559\u6750\u4e2d \\(f&gt;n&gt;0\\)\uff0c\u4f1a\u51fa\u73b0\u6b63\u8d1f\u53f7\u4e0d\u592a\u4e00\u6837\u7684\u5730\u65b9</p>"},{"location":"games-course/games101/summary-1-5/#\u5e38\u7528\u8868\u793a","title":"\u5e38\u7528\u8868\u793a","text":"<p>\u4e00\u822c\u5b9a\u4e49\u89c6\u9525\u4f1a\u7528\u5230\u4e24\u4e2a\u53c2\u6570 \\(fovY\\)\uff08\u5782\u76f4\u53ef\u89c6\u89d2\u5ea6\uff09\u3001 \\(aspect\\)\uff08\u5bbd\u9ad8\u6bd4\uff09</p> <p>\\({\\displaystyle{\\begin{aligned} \\tan\\frac{fovY}{2}=\\frac{t}{\\lvert n \\rvert} \\end{aligned}}}\\)</p> <p>\\({\\displaystyle{\\begin{aligned} aspect=\\frac{r}{t} \\end{aligned}}}\\)</p>"},{"location":"games-course/games101/summary-1-5/#\u89c6\u53e3\u53d8\u6362","title":"\u89c6\u53e3\u53d8\u6362","text":"<p>\u5ffd\u7565\u5148\u524d\u7684\u6807\u51c6\u7acb\u65b9\u4f53\u7a7a\u95f4\u4e2d\u7684 \\(Z\\) \u8f74\uff0c\u53ea\u5bf9 \\(x,y\\) \u5e73\u9762\u5185\u8fdb\u884c\u53d8\u6362\uff0c\u5c06 \\([-1,1]^2\\) \u8f6c\u6362\u5230 \\([0,width]\\times[0,height]\\) </p> <p>\\({\\displaystyle{\\begin{aligned} M_{viewport}=\\begin{bmatrix} \\frac{width}{2} &amp; 0 &amp; 0 &amp; \\frac{width}{2} \\\\ 0 &amp; \\frac{height}{2} &amp; 0 &amp; \\frac{height}{2} \\\\ 0 &amp; 0 &amp; 1 &amp; 0 \\\\ 0 &amp; 0 &amp; 0 &amp; 1 \\end{bmatrix} \\end{aligned}}}\\)</p>"},{"location":"games-course/games101/summary-5-7/","title":"\u8bfe\u7a0b 5-7 \u9636\u6bb5\u6027\u603b\u7ed3","text":"<p>\u8fd9\u90e8\u5206\u5185\u5bb9\u4e3b\u8981\u4ecb\u7ecd\u4e86\uff1a</p> <ul> <li>\u5149\u6805\u5316\uff08Rasterization\uff09</li> <li>\u6297\u952f\u9f7f/\u53cd\u8d70\u6837\uff08Anti-Aliasing\uff09</li> <li>\u6df1\u5ea6\u6d4b\u8bd5\uff08Z-Buffer\uff09</li> </ul>"},{"location":"games-course/games101/summary-5-7/#\u5149\u6805\u5316","title":"\u5149\u6805\u5316","text":"<p>Raster\uff08\u5fb7\u8bed\uff09 = Screen\uff0c\u7b80\u5355\u7684\u6765\u8bf4\u5149\u6805\u5316\u5c31\u662f\u5c06\u7269\u4f53\u7ed8\u5236\u5230\u5c4f\u5e55\u4e0a\u3002</p> <p>\u5c4f\u5e55\u4e3b\u8981\u7531\u50cf\u7d20\u70b9\u6784\u6210\uff0c\u6bcf\u4e2a\u50cf\u7d20\u70b9\u53ef\u89c6\u4e3a\u53ea\u5305\u542b\u4e00\u79cd\u989c\u8272\u7684\u5c0f\u65b9\u5757\u3002</p> <p>\u5728\u5c4f\u5e55\u4e0a\u7ed8\u5236\u5185\u5bb9\u9700\u8981\u5f97\u5230\u5404\u4e2a\u50cf\u7d20\u70b9\u7684\u989c\u8272\u4fe1\u606f\uff0c\u5149\u6805\u5316\u4e8b\u5b9e\u4e0a\u5c31\u662f\u5728\u505a\u8fd9\u4e2a\u5185\u5bb9\u3002</p> <p>\u7269\u4f53\u8868\u9762\u901a\u5e38\u4f1a\u88ab\u6253\u6563\u6210\u4e00\u4e2a\u4e2a\u5c0f\u4e09\u89d2\u5f62\uff0c\u901a\u8fc7\u6570\u5b66\u5173\u7cfb\u53ef\u4ee5\u5224\u65ad\u50cf\u7d20\u70b9\u662f\u5426\u5728\u4e00\u4e2a\u4e09\u89d2\u5f62\u9762\u5185\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u6839\u636e\u4e09\u89d2\u5f62\u7684\u989c\u8272\u4fe1\u606f\u5bf9\u8fd9\u4e2a\u50cf\u7d20\u70b9\u8fdb\u884c\u7740\u8272\u4e86\u3002</p>"},{"location":"games-course/games101/summary-5-7/#\u6297\u952f\u9f7f\u53cd\u8d70\u6837","title":"\u6297\u952f\u9f7f/\u53cd\u8d70\u6837","text":"<p>\u51fa\u73b0\u952f\u9f7f\u7684\u539f\u56e0\u7528\u6bd4\u8f83\u5b98\u65b9\u70b9\u7684\u8bdd\u6765\u8bf4\u5c31\u662f\u5c4f\u5e55\u91c7\u6837\u9891\u7387\u8ddf\u4e0d\u4e0a\u56fe\u50cf\u4fe1\u606f\u53d8\u5316\u9891\u7387\u3002</p> <p>\u7528\u5938\u5f20\u70b9\u7684\u8bf4\u6cd5\uff0c\u6709\u4e00\u5f20\u989c\u8272\u4e30\u5bcc\u7684\u56fe\u7247\u9700\u8981\u663e\u793a\u5728\u5c4f\u5e55\u4e2d\uff0c\u53ef\u60dc\u5c4f\u5e55\u53ea\u6709\u4e00\u4e2a\u50cf\u7d20\u70b9\uff0c\u53ea\u80fd\u7528\u4e00\u4e2a\u989c\u8272\u6765\u8868\u793a\u8fd9\u5e45\u56fe\u7247\u3002</p> <p>\u6240\u4ee5\u63d0\u5347\u5c4f\u5e55\u5206\u8fa8\u7387\uff0c\u4e5f\u5c31\u662f\u4f7f\u75282K\u30014K\u5c4f\u5e55\u5c31\u53ef\u4ee5\u89e3\u51b3\u6297\u952f\u9f7f\u7684\u95ee\u9898\u4e86\uff0c\u56e0\u6b64 \u5728\u9ad8\u5206\u8fa8\u7387\u5c4f\u5e55\u4e0a\u5f80\u5f80\u4e0d\u9700\u8981\u5f00\u6297\u952f\u9f7f\u3002</p>"},{"location":"games-course/games101/summary-5-7/#msaa","title":"MSAA","text":"<p>\u5f53\u7136\uff0c\u5728\u5c4f\u5e55\u5206\u8fa8\u7387\u4e0d\u9ad8\u7684\u60c5\u51b5\u4e0b\u4ecd\u7136\u9700\u8981\u7528\u5230\u6297\u952f\u9f7f\u6765\u8fd8\u539f\u4e00\u4e2a\u66f4\u597d\u7684\u753b\u9762\u6548\u679c\uff0cMSAA\u5c31\u662f\u4e00\u79cd\u65b9\u6cd5\u3002</p> <p>\u901a\u8fc7\u589e\u52a0\u91c7\u6837\u70b9\u6765\u5224\u65ad\u50cf\u7d20\u70b9\u548c\u4e09\u89d2\u5f62\u7684\u5173\u7cfb\u3002\u7b80\u5355\u7684\u7406\u89e3\u5c31\u662f\u628a\u4e00\u4e2a\u50cf\u7d20\u5747\u5206\u6210\u66f4\u591a\u50cf\u7d20\u3002</p> <p>\u4ee52x2\u4e3a\u4f8b\uff0c\u6bcf\u4e2a\u50cf\u7d20\u70b9\u4e2d\u67094\u4e2a\u5c0f\u50cf\u7d20\u70b9\uff0c\u82e54\u4e2a\u5c0f\u50cf\u7d20\u70b9\u90fd\u5728\u4e09\u89d2\u5f62\u5185\uff0c\u90a3\u4e48\u989c\u8272\u7684\u900f\u660e\u5ea6\u5c31\u4e3a100%\uff0c\u5982\u679c\u662f2\u4e2a\u5219\u4e3a50%\u3002</p> <p>\u901a\u8fc7\u8fd9\u79cd\u65b9\u6cd5\u4fee\u6539\u50cf\u7d20\u70b9\u7684\u989c\u8272\u900f\u660e\u5ea6\uff0c\u4f7f\u8fb9\u7f18\u8fbe\u5230\u4e00\u79cd\u6a21\u7cca\u7684\u6548\u679c\u4ece\u800c\u5b8c\u6210\u6297\u952f\u9f7f\u3002</p> <p></p> <p></p> <p></p> <p>\u5f53\u7136\u53ea\u9700\u8981\u5728\u8fb9\u754c\u4e0a\u4f7f\u7528\u5373\u53ef\uff0c\u540c\u65f6\u5404\u4e2a\u50cf\u7d20\u70b9\u4e4b\u95f4\u8fd8\u6709\u590d\u7528\u68c0\u6d4b\u70b9\u6765\u7f13\u89e3\u8fd0\u7b97\u538b\u529b\u3002</p> <p>\u6b64\u5916\uff0c\u8fd8\u6709FXAA\u3001TAA\u7b49\u6297\u952f\u9f7f\u65b9\u6cd5</p>"},{"location":"games-course/games101/summary-5-7/#z-buffer","title":"Z-Buffer","text":"<p>\u7528\u6765\u89e3\u51b3\u7269\u4f53\u95f4\u906e\u76d6\u7684\u95ee\u9898\u3002</p> <p>\u7b80\u5355\u7684\u6765\u8bf4\uff0c\u5728\u7ef4\u62a4\u5c4f\u5e55\u4e0a\u4e00\u5f20\u989c\u8272\u4fe1\u606f\u8868 <code>Frame-Buffer</code> \u65f6\uff0c\u6211\u4eec\u518d\u7ef4\u62a4\u4e00\u5f20\u989c\u8272\u6df1\u5ea6\u4fe1\u606f\u8868 <code>Depth-Buffer</code> \u7528\u6765\u8868\u793a\u8fd9\u4e2a\u989c\u8272\u4e0e\u6444\u50cf\u673a\u7684\u8fdc\u8fd1\u3002</p> <p>\u6bcf\u5f53\u7ed8\u5236\u50cf\u7d20\u70b9\u989c\u8272\u65f6\uff0c\u53ea\u8981\u6bd4\u8f83\u5e76\u8bb0\u5f55\u989c\u8272\u6df1\u5ea6\u4fe1\u606f\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u8ba9\u6700\u9760\u8fd1\u76f8\u673a\u7684\u989c\u8272\u7ed8\u5236\u5728\u6700\u524d\u9762\u3002</p> <p>\u5047\u8bbe <code>z_interpolated</code> \u8d8a\u5c0f\u8868\u793a\u79bb\u76f8\u673a\u8d8a\u8fd1\u3002</p> <pre><code>if (z_interpolated &lt; depth_buf[index]) {\ndepth_buf[index] = z_interpolated;\nframe_buf[index] = t.getColor();\n}\n</code></pre>"},{"location":"games-course/games101/summary-7-10/","title":"\u8bfe\u7a0b 7-10 \u9636\u6bb5\u6027\u603b\u7ed3","text":"<p>\u8fd9\u90e8\u5206\u5185\u5bb9\u4e3b\u8981\u4ecb\u7ecd\u4e86\uff1a</p> <ul> <li>Blinn-Phong\uff08\u5149\u7167\u6a21\u578b\uff09</li> <li>\u7740\u8272\u9891\u7387</li> <li>\u91cd\u5fc3\u5750\u6807</li> <li>\u7eb9\u7406\u653e\u5927</li> </ul>"},{"location":"games-course/games101/summary-7-10/#blinn-phong\u5149\u7167\u6a21\u578b","title":"Blinn-Phong\uff08\u5149\u7167\u6a21\u578b\uff09","text":""},{"location":"games-course/games101/summary-7-10/#lambertian-reflectance\u6f2b\u53cd\u5c04\u6a21\u578b","title":"Lambertian reflectance\uff08\u6f2b\u53cd\u5c04\u6a21\u578b\uff09","text":"<p>\\({\\displaystyle{\\begin{aligned} L_d=k_d\\frac{I}{r^2}\\max(0,n \\cdot l) \\end{aligned}}}\\)</p> <p>\u5176\u4e2d \\(k_d\\) \u8868\u793a\u6f2b\u53cd\u5c04\u7cfb\u6570\uff08\u4e5f\u53ef\u4ee5\u7528\u6f2b\u53cd\u5c04\u989c\u8272\u4ee3\u66ff\uff09\uff0c\\(I\\) \u8868\u793a\u5149\u7167\u5f3a\u5ea6\uff0c\\(r\\) \u8868\u793a\u4e0e\u5149\u6e90\u7684\u8ddd\u79bb\uff0c\\(n\\) \u548c \\(l\\) \u5206\u522b\u4e3a\u6cd5\u5411\u91cf\u4e0e\u5165\u5c04\u5149\u65b9\u5411</p> <p>\u7b80\u5355\u7684\u6765\u8bb2\uff0c\u8fd9\u4e2a\u6a21\u578b\u8ba4\u4e3a\u6f2b\u53cd\u5c04\u7684\u5149\u7167\u5f3a\u5ea6\u548c\u5149\u7ebf\u4e0e\u6cd5\u5411\u91cf\u7684\u5939\u89d2\u6709\u5173\u30021</p>"},{"location":"games-course/games101/summary-7-10/#specular\u955c\u9762\u53cd\u5c04","title":"Specular\uff08\u955c\u9762\u53cd\u5c04\uff09","text":"<p>\\({\\displaystyle{\\begin{aligned} L_s=k_s\\frac{I}{r^2}\\max(0,n \\cdot h)^p \\end{aligned}}}\\)</p> <p>\u4e0e\u6f2b\u53cd\u5c04\u6a21\u578b\u76f8\u4f3c\uff0c\\(k_s\\) \u8868\u793a\u955c\u9762\u53cd\u5c04\u7cfb\u6570\uff0c\\(h\\) \u534a\u7a0b\u5411\u91cf \u8868\u793a\u89c6\u7ebf\u65b9\u5411\u4e0e\u5149\u7ebf\u65b9\u5411\u7684\u89d2\u5e73\u5206\u65b9\u5411\u3002</p> <p></p> <p>\u4e8b\u5b9e\u4e0a\u534a\u7a0b\u5411\u91cf\u4e0e\u6cd5\u5411\u91cf\u7684\u5939\u89d2\u5c31\u662f\u53cd\u5c04\u5149\u7ebf\u4e0e\u89c6\u7ebf\u7684\u5939\u89d2\uff0c\u53ea\u4e0d\u8fc7\u534a\u7a0b\u5411\u91cf\u66f4\u5bb9\u6613\u8ba1\u7b97</p> <p>\u503c\u5f97\u6ce8\u610f\u7684\u8fd8\u6709\u6307\u6570 \\(p\\) \uff0c\u8fd9\u4e2a\u503c\u4e3b\u8981\u7528\u4e8e\u8ba9\u51fd\u6570\u503c\u5feb\u901f\u6536\u7f29\uff0c\u4f7f\u9ad8\u5149\u533a\u57df\u4e0d\u4f1a\u592a\u5927</p> <p></p>"},{"location":"games-course/games101/summary-7-10/#ambient\u73af\u5883\u5149","title":"Ambient\uff08\u73af\u5883\u5149\uff09","text":"<p>\\({\\displaystyle{\\begin{aligned} L_a=k_aI_a \\end{aligned}}}\\)</p> <p>\u73af\u5883\u5149\u4e3b\u8981\u7528\u6765\u8868\u793a\u5176\u4ed6\u5149\u6e90\u4ea7\u751f\u7684\u5149\u7167\uff0c\u8fd9\u53ea\u662f\u4e00\u4e2a\u8fd1\u4f3c\u503c\uff0c\u5e76\u4e0d\u4ee3\u8868\u5b9e\u9645\u4eae\u5ea6\u3002</p> <p>\u6700\u7ec8\u5168\u90e8\u76f8\u52a0\u53ef\u4ee5\u5f97\u5230 Blinn-Phong \u5149\u7167\u6a21\u578b\u7684\u516c\u5f0f</p> <p>\\({\\displaystyle{\\begin{aligned} L=L_a+L_d+L_s=k_aI_a+k_d\\frac{I}{r^2}\\max(0,n \\cdot l)+k_s\\frac{I}{r^2}\\max(0,n \\cdot h)^p \\end{aligned}}}\\)</p> <ol> <li> <p>Lambert's cosine law \u21a9</p> </li> </ol>"},{"location":"optimization/collection/","title":"\u96c6\u5408\u7c7b\u4f7f\u7528\u4f18\u5316","text":""},{"location":"optimization/collection/#\u573a\u666f1","title":"\u573a\u666f1","text":"<p>\u5148\u524d\u770b\u522b\u4eba\u4ee3\u7801\u65f6\u53d1\u73b0\u4e86\u4e00\u4e2a\u975e\u5e38\u79bb\u8c31\u7684\u4f7f\u7528\u65b9\u6cd5\uff0c\u573a\u666f\u662f\u5728 <code>List</code> \u4e2d\u53d6\u51fa\u6700\u5c0f\u7684\u4e00\u4e2a\u503c\u5e76\u5220\u9664\uff0c\u4e00\u76f4\u5faa\u73af\u5230\u5168\u90e8\u53d6\u51fa\uff0c\u770b\u5230\u8fd9\u91cc\u53ef\u4ee5\u7b80\u5355\u601d\u8003\u4e00\u4e0b\u89e3\u51b3\u65b9\u6848\u3002</p> \u8bf7\u52ff\u6a21\u4eff <pre><code>// \u6392\u5e8f\nlist.Sort();\n// \u7136\u540e\u5220\u9664\u7b2c\u4e00\u9879\nlist.RemoveAt(0);\n</code></pre> <p>\u65f6\u95f4\u590d\u6742\u5ea6 O(NlogN)</p> \u89e3\u51b3\u601d\u8def <p>\u7c7b\u4f3c\u4e8e\u9009\u62e9\u6392\u5e8f\uff0c\u7528\u4e34\u65f6\u53d8\u91cf\u8bb0\u5f55\u6700\u5c0f\u503c\u548c\u4f4d\u7f6e\uff0c\u518d\u5220\u9664\u8be5\u9879\u5c31\u884c\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(N)</p>"},{"location":"optimization/collection/#listremoveatindex-\u4f7f\u7528\u6280\u5de7","title":"List.RemoveAt(index) \u4f7f\u7528\u6280\u5de7","text":"<p>\u8fd9\u91cc\u53ef\u4ee5\u5148\u770b\u4e0b\u5b98\u65b9\u7684\u6e90\u4ee3\u78011</p> <pre><code>public void RemoveAt(int index) {\nif ((uint)index &gt;= (uint)_size) {\nThrowHelper.ThrowArgumentOutOfRangeException();\n}\nContract.EndContractBlock();\n_size--;\nif (index &lt; _size) {\nArray.Copy(_items, index + 1, _items, index, _size - index);\n}\n_items[_size] = default(T);\n_version++;\n}\n</code></pre> <p>\u5f53\u4f7f\u7528 <code>List.RemoveAt</code> \u65f6\uff0c\u4ece\u4e2d\u95f4\u9879\u76f4\u63a5\u5220\u9664\u4f1a\u591a\u4e00\u6b21 <code>Array.Copy()</code>\uff0c\u5c06\u6570\u7ec4\u540e\u534a\u90e8\u5206\u62f7\u8d1d\u5230\u524d\u9762\uff0c\u586b\u5145\u6389\u7a7a\u4f4d\u3002</p> <p>\u8fd9\u6837\u64cd\u4f5c\u91cd\u590d\u591a\u4e86\u4f1a\u9020\u6210\u5f88\u5927\u7684\u6d6a\u8d39\uff0c\u4f46\u53ef\u4ee5\u53d1\u73b0\uff0c\u5982\u679c\u5220\u9664\u4f4d\u7f6e\u53d1\u751f\u5728\u672b\u5c3e\uff0c\u8fd9\u4e2a\u62f7\u8d1d\u7684\u64cd\u4f5c\u5c31\u53ef\u4ee5\u907f\u514d\u3002</p> <p>\u6240\u4ee5\u53ea\u9700\u8981\u5220\u9664\u4f4d\u7f6e\u4e0e\u672b\u5c3e\u4f4d\u7f6e\u8fdb\u884c\u4ea4\u6362\u518d\u5220\u9664\u5373\u53ef\u3002\uff08\u53ea\u9002\u7528\u4e8e\u5f53\u524d\u573a\u666f\uff09</p> \u6b63\u786e\u65b9\u6848<pre><code>// \u4e0e\u672b\u5c3e\u8fdb\u884c\u4ea4\u6362\n(list[^1], list[minIndex]) = (list[minIndex], list[^1]);\nlist.RemoveAt(list.Count - 1);\n</code></pre> <p>\u6709\u65b0\u6848\u4f8b\u518d\u8865\u5145...</p> <ol> <li> <p>C# - List \u6e90\u4ee3\u7801 \u21a9</p> </li> </ol>"},{"location":"optimization/unity-null-object-check/","title":"Unity \u7a7a\u5bf9\u8c61\u68c0\u6d4b","text":""},{"location":"optimization/unity-null-object-check/#\u524d\u8a00","title":"\u524d\u8a00","text":"<p>\u5728\u4f7f\u7528 <code>Rider</code> \u5199null\u68c0\u67e5\u65f6 <code>gameObject == null</code> \u4e2d\u7684\u7b49\u53f7\u6362\u4e86\u4e00\u79cd\u989c\u8272\u663e\u793a\uff0c\u70b9\u5f00\u540e\u624d\u77e5\u9053Unity\u5f15\u64ce\u91cd\u8f7d\u4e86 <code>==</code> \u7684\u65b9\u6cd5\u3002</p> <p>\u5f53\u65f6\u6ca1\u6709\u5728\u610f\uff0c\u76f4\u5230\u5728 <code>Update()</code> \u65b9\u6cd5\u5185\u5199\u8fd9\u6bb5\u8bed\u53e5\u65f6\u51fa\u73b0\u4e86\u63d0\u793a\uff1a <code>Comparison to 'null' is expensive</code> </p> <p>\u4ed4\u7ec6\u67e5\u4e86\u67e5\u8d44\u6599\u8fd8\u662f\u53d1\u73b0\u6709\u4e9b\u95e8\u9053\u7684\u3002</p>"},{"location":"optimization/unity-null-object-check/#unity\u5bf9\u8c61\u68c0\u67e5\u903b\u8f91","title":"Unity\u5bf9\u8c61\u68c0\u67e5\u903b\u8f91","text":"<p>\u4e8b\u5b9e\u4e0a\uff0c\u6211\u4eec\u6240\u62e5\u6709\u7684 <code>GameObject</code> \u5bf9\u8c61\u5e76\u6ca1\u6709\u771f\u6b63\u5b58\u5728\u4e8e\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u4ea4\u4e92\u7684\u5bf9\u8c61\u6c60\u4e2d\uff0c\u800c\u662f\u5b58\u50a8\u5728\u7531\u5e95\u5c42 <code>C++</code> \u6240\u7f16\u5199Unity\u5f15\u64ce\u4e2d\u3002</p> <p>\u6211\u4eec\u6240\u4ea4\u4e92\u7684\u5bf9\u8c61\u53ef\u4ee5\u8bf4\u4ec5\u4ec5\u662f\u4e00\u4e2a\u63a5\u53e3\u3001\u4e00\u4e2a\u5305\u88c5\u5bf9\u8c61\uff0c\u800c\u8fd9\u4e2a\u5305\u88c5\u5bf9\u8c61\u7531 <code>C#</code> \u7684\u5783\u573e\u56de\u6536\u5668\u63a5\u7ba1\uff0c\u5728\u4f7f\u7528 <code>Object.Destroy(gameObject)</code> \u540e\uff0c\u5e76\u4e0d\u4f1a\u4f7f\u5305\u88c5\u5bf9\u8c61\u7acb\u523b\u88ab\u56de\u6536\u3002\u56e0\u6b64\u5728\u7f16\u5199\u903b\u8f91\u65f6\u5f80\u5f80\u4f1a\u5b58\u5728\u4e00\u4e9b\u8bef\u533a\u3002</p> <p><pre><code>public static bool operator ==(Object x, Object y) =&gt; Object.CompareBaseObjects(x, y);\npublic static bool operator !=(Object x, Object y) =&gt; !Object.CompareBaseObjects(x, y);\nprivate static bool CompareBaseObjects(Object lhs, Object rhs)\n{\nbool flag1 = (object) lhs == null;\nbool flag2 = (object) rhs == null;\nif (flag2 &amp; flag1)\nreturn true;\nif (flag2)\nreturn !Object.IsNativeObjectAlive(lhs);\nreturn flag1 ? !Object.IsNativeObjectAlive(rhs) : lhs.m_InstanceID == rhs.m_InstanceID;\n}\nprivate static bool IsNativeObjectAlive(Object o)\n{\nif (o.GetCachedPtr() != IntPtr.Zero)\nreturn true;\nreturn !(o is MonoBehaviour) &amp;&amp; !(o is ScriptableObject) &amp;&amp; Object.DoesObjectWithInstanceIDExist(o.GetInstanceID());\n}\nprivate IntPtr GetCachedPtr() =&gt; this.m_CachedPtr;\n</code></pre> \u4ece\u4e0a\u8ff0\u53cd\u7f16\u8bd1\u7684\u4ee3\u7801\u53ef\u4ee5\u770b\u51fa\u5728\u8fdb\u884c <code>==</code> \u68c0\u67e5\u65f6\uff0c\u5f53\u5de6\u53f3\u90fd\u4e3a <code>null</code> \u65f6\uff0c\u68c0\u67e5\u7ed3\u679c\u53ef\u4ee5\u7acb\u5373\u5f97\u5230\uff0c\u4f46\u5f53\u5176\u4e2d\u4e00\u9879\u5b58\u5728\u975e\u7a7a\u65f6\uff0c\u5219\u9700\u8981\u8fdb\u884c\u989d\u5916\u7684\u68c0\u67e5\u3002</p> <p>\u6700\u7ec8\uff0c\u68c0\u67e5\u4f1a\u843d\u5728 <code>Object.DoesObjectWithInstanceIDExist(id)</code> \u8fd9\u4e2a\u65b9\u6cd5\u4e0a\u3002</p> <p>\u867d\u7136\u5bf9\u4e8e\u5e95\u5c42\u751f\u547d\u5468\u671f\u68c0\u67e5\u7684\u5177\u4f53\u5185\u5bb9\u6211\u5e76\u4e0d\u6e05\u695a\uff0c\u4f46\u662f\u901a\u8fc7 <code>int</code> \u7c7b\u578b\u6765\u67e5\u627e\u4e00\u4e2a\u5bf9\u8c61\u662f\u5426\u5b58\u6d3b\uff0c\u663e\u7136\u662f\u9700\u8981\u6d88\u8017\u4e0d\u5c11\u6027\u80fd\u3002</p> <p>\u6700\u597d\u7684\u7ed3\u679c\u4e5f\u662f\u7c7b\u4f3c\u4e8e\u5728 <code>Dictionary</code> \u8fd9\u6837\u7684\u6570\u636e\u7ed3\u6784\u4e2d\u8fdb\u884c\u67e5\u627e\uff0c\u4f46\u7531\u4e8e \u54c8\u5e0c\u78b0\u649e \u7684\u95ee\u9898\uff0c\u4e5f\u5bb9\u6613\u51fa\u73b0\u8f83\u574f\u7684\u7ed3\u679c\uff0c\u751a\u81f3\u53ef\u80fd\u4f1a \u626b\u63cf\u5168\u90e8 \u7684 <code>GameObject</code>\u3002</p> <p>\u56e0\u6b64\u5728 \u9ad8\u9891\u7387 \u8c03\u7528\u4e2d\uff0c\u4f7f\u7528 <code>gameObject == null</code> \u8fd9\u6837\u8fdb\u884c\u751f\u547d\u5468\u671f\u68c0\u67e5\u662f \u53ca\u5176\u4e0d\u63a8\u8350 \u7684\uff01</p>"},{"location":"optimization/unity-null-object-check/#\u4f18\u5316\u65b9\u6848","title":"\u4f18\u5316\u65b9\u6848","text":"<p>\u7b80\u5355\u7684\u6765\u8bf4\u65e0\u975e\u662f\u5206\u4e3a\u4e24\u79cd\u60c5\u51b5</p> <ol> <li>\u68c0\u67e5\u8fd9\u4e2a\u5bf9\u8c61 \u662f\u5426\u88ab\u9500\u6bc1</li> <li>\u68c0\u67e5\u8fd9\u4e2a\u5bf9\u8c61 \u662f\u5426\u521d\u59cb\u5316 \u5bf9\u539f\u751f\u5bf9\u8c61\u7684\u5f15\u7528</li> </ol>"},{"location":"optimization/unity-null-object-check/#\u7b2c\u4e00\u79cd\u60c5\u51b5","title":"\u7b2c\u4e00\u79cd\u60c5\u51b5","text":"<p>\u9700\u8981\u5f97\u5230\u8fd9\u79cd\u6548\u679c\u5c31\u6ca1\u6709\u529e\u6cd5\u907f\u514d\u53bb\u8c03\u7528Unity\u81ea\u5b9a\u4e49\u7684\u91cd\u8f7d\u65b9\u6cd5\u4e86\uff0c\u4f46\u662f\u4e00\u822c\u60c5\u51b5\u4e0b\u4e5f\u4e0d\u4f1a\u5728\u9ad8\u9891\u73af\u5883\u4e2d\u53bb\u68c0\u67e5\u4e00\u4e2a\u5bf9\u8c61\u662f\u5426\u88ab\u9500\u6bc1\u3002</p> <p>\u6211\u4eec\u78b0\u5230\u7684\u5f80\u5f80\u662f\u7b2c\u4e8c\u79cd\u60c5\u51b5\u3002</p>"},{"location":"optimization/unity-null-object-check/#\u7b2c\u4e8c\u79cd\u60c5\u51b5","title":"\u7b2c\u4e8c\u79cd\u60c5\u51b5","text":"<p>\u5bf9\u4e8e\u89c4\u907f\u751f\u547d\u5468\u671f\u7684\u68c0\u67e5\u529e\u6cd5\u8fd8\u662f\u633a\u591a\u7684\u3002\u6bd4\u5982\uff1a</p> <ul> <li>C# 9.0 is null / is not null</li> <li>object.ReferenceEquals(gameObject, null)</li> </ul> <p>\u6b64\u5916\u8981\u6ce8\u610f\u4f7f\u7528</p> <ul> <li>\u7a7a\u5408\u5e76\u8fd0\u7b97\u7b26 ??</li> <li>\u7a7a\u6761\u4ef6\u8fd0\u7b97\u7b26 ?</li> </ul> <pre><code>mono = mono ?? Instantiate();\nmono?.DoSomething();\n</code></pre> <p>\u8fd9\u4e24\u4e2a\u64cd\u4f5c\u4e5f\u4f1a\u7ed5\u8fc7\u751f\u547d\u5468\u671f\u7684\u68c0\u67e5\uff0c\u6709\u65f6\u5019\u5e76\u4e0d\u786e\u5b9a\u9700\u8981\u68c0\u67e5\u7684\u662f\u9500\u6bc1\u8fd8\u662f\u662f\u5426\u521d\u59cb\u5316\uff0c\u8fd9\u6837\u5728\u5feb\u901f\u7f16\u5199\u4ee3\u7801\u903b\u8f91\u65f6\uff0c\u5f80\u5f80\u4f1a\u5ffd\u7565\u4ece\u800c\u9020\u6210\u4e0d\u5fc5\u8981\u7684BUG\uff0c\u6240\u4ee5 \u5e76\u4e0d\u63a8\u8350 \u8fd9\u6837\u4e66\u5199\u3002</p> <p>\u56e0\u6b64\u8fd9\u79cd\u60c5\u51b5\u6216\u8bb8\u4f7f\u7528\u66f4\u6e05\u6670\u7684\u68c0\u67e5\uff08\u5f00\u5934\u4e24\u79cd\uff09\u4f1a\u66f4\u597d\uff0c<code>==</code> \u8fd9\u79cd\u68c0\u67e5\u5219\u56fa\u5b9a\u4e3a\u5bf9Unity\u5bf9\u8c61\u751f\u547d\u5468\u671f\u7684\u68c0\u67e5\u3002</p>"},{"location":"optimization/unity-null-object-check/#\u603b\u7ed3","title":"\u603b\u7ed3","text":"<p>\u5f15\u7528</p> <p>Turns out two of our own engineers missed that the null check was more expensive than expected, and was the cause of not seeing any speed benefit from the caching. This led to the \"well if even we missed it, how many of our users will miss it?\", which results in this blogpost :)1</p> <p>Unity\u7684\u5de5\u7a0b\u5e08\u81ea\u5df1\u4e5f\u53d1\u73b0\u8fd9\u6837\u81ea\u5b9a\u4e49\u7684null\u68c0\u67e5\u5e26\u6765\u7684\u6027\u80fd\u635f\u8017\u8fdc\u8d85\u9884\u671f\u3002\u65e9\u57282014\u5e74\u5c31\u8003\u8651\u662f\u5426\u5220\u9664\u8fd9\u79cd\u7279\u6027\uff0c\u867d\u7136\u73b0\u57282023\u5e74\u8fd8\u5728\u5c31\u662f\u4e86\u3002</p> <p>\u5728\u81ea\u5b9a\u4e49\u7c7b\u4f3c\u4e8e <code>==</code> \u8fd9\u6837\u7684\u64cd\u4f5c\u7b26\u65b9\u6cd5\u65f6\uff0c\u8fd8\u662f\u9700\u8981\u5c0f\u5fc3\uff0c\u867d\u7136\u53ef\u4ee5\u8ba9\u7f16\u7a0b\u8bed\u8a00\u66f4\u63a5\u8fd1\u81ea\u7136\u8bed\u8a00\uff0c\u7b80\u5316\u4ee3\u7801\uff0c\u4f46\u4e0d\u80fd\u5ffd\u7565\u5728\u539f\u6709\u7f16\u7a0b\u8bed\u8a00\u4e2d\u8bbe\u8ba1\u65f6\u7684\u521d\u8877\u3002</p> <ol> <li> <p>UnityBlog - Custom == operator, should we keep it? \u21a9</p> </li> </ol>"}]}